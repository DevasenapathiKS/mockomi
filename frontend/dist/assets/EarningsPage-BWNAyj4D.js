import{j as e,m as w}from"./ui-E8jIx32d.js";import{r as n}from"./vendor-08mqACR8.js";import{b as ge,u as F,d as W}from"./data-CNpY1-rC.js";import{h as C,i as S,W as l,S as ye,o as j,z as f,p as ae}from"./index-D7irHWNX.js";import{D as te}from"./DashboardLayout-QGHhVlFi.js";import{B as u}from"./Button-DkVvCag_.js";import{I as N}from"./Input-Bbjou70d.js";import"./Textarea-Da6oJh8a.js";import{C as g}from"./Card-Kk9NAdVM.js";import{B as o}from"./Badge-BMjbNvha.js";import{M as se}from"./Modal-DPRplyTw.js";import{i as je}from"./interviewService-B6vu6Ald.js";import{F as re}from"./CurrencyRupeeIcon-qiBkUxPz.js";import{F as ne}from"./ClockIcon-sUFCzahK.js";import{F as Ne}from"./CheckCircleIcon-BIxcTuyz.js";import{F as ie}from"./UsersIcon-hudjBy-f.js";import{b as be}from"./XMarkIcon-B-SQiyPX.js";import"./useAuth-Gzt3zqP2.js";import"./UserIcon-ACflAg1t.js";import"./BuildingOfficeIcon-m0Wh3_We.js";function we({title:s,titleId:r,...c},d){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},c),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const fe=n.forwardRef(we);function ve({title:s,titleId:r,...c},d){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},c),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const ke=n.forwardRef(ve);function De({title:s,titleId:r,...c},d){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},c),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const le=n.forwardRef(De);function Ee({title:s,titleId:r,...c},d){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},c),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const M=n.forwardRef(Ee),I={createWithdrawal:async s=>{try{return(await C.post("/withdrawals",s)).data.data}catch(r){throw new Error(S(r))}},getMyWithdrawals:async(s=1,r=10)=>{try{const c=new URLSearchParams({page:String(s),limit:String(r)});return(await C.get(`/withdrawals?${c.toString()}`)).data}catch(c){throw new Error(S(c))}},getWithdrawalStats:async()=>{try{return(await C.get("/withdrawals/stats")).data.data}catch(s){throw new Error(S(s))}},getWithdrawalById:async s=>{try{return(await C.get(`/withdrawals/${s}`)).data.data}catch(r){throw new Error(S(r))}},cancelWithdrawal:async s=>{try{return(await C.post(`/withdrawals/${s}/cancel`)).data.data}catch(r){throw new Error(S(r))}}},Qe=()=>{var O,z,Q,V,G,Z,J,Y;const s=ge(),[r,c]=n.useState("all"),[d,ce]=n.useState("all"),[A,L]=n.useState("earnings"),[de,v]=n.useState(!1),[i,y]=n.useState({accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",branchName:"",upiId:""}),[oe,k]=n.useState(!1),[R,T]=n.useState(""),[h,q]=n.useState(l.BANK_TRANSFER),{data:b,isLoading:me}=F({queryKey:["interviewer-earnings",r],queryFn:()=>je.getInterviewerEarnings({period:r})}),{data:t}=F({queryKey:["interviewer-profile"],queryFn:()=>ae.getInterviewerProfile()}),{data:m}=F({queryKey:["withdrawal-stats"],queryFn:()=>I.getWithdrawalStats()}),{data:P}=F({queryKey:["my-withdrawals"],queryFn:()=>I.getMyWithdrawals(1,20)});n.useEffect(()=>{t!=null&&t.bankDetails&&y({accountHolderName:t.bankDetails.accountHolderName||"",accountNumber:t.bankDetails.accountNumber||"",ifscCode:t.bankDetails.ifscCode||"",bankName:t.bankDetails.bankName||"",branchName:t.bankDetails.branchName||"",upiId:t.bankDetails.upiId||""})},[t]);const H=W({mutationFn:a=>I.cancelWithdrawal(a),onSuccess:()=>{f.success("Withdrawal cancelled successfully!"),s.invalidateQueries({queryKey:["my-withdrawals"]}),s.invalidateQueries({queryKey:["withdrawal-stats"]})},onError:a=>{f.error(a.message||"Failed to cancel withdrawal")}}),K=W({mutationFn:a=>ae.updateInterviewerProfile(a),onSuccess:()=>{f.success("Bank details updated successfully!"),v(!1),s.invalidateQueries({queryKey:["interviewer-profile"]})},onError:a=>{f.error(a.message||"Failed to update bank details")}}),U=W({mutationFn:()=>{var x,D,E,X,ee;const a=Math.round(parseFloat(R)*100);return h===l.BANK_TRANSFER?I.createWithdrawal({amount:a,method:h,bankDetails:{accountHolderName:((x=t==null?void 0:t.bankDetails)==null?void 0:x.accountHolderName)||"",accountNumber:((D=t==null?void 0:t.bankDetails)==null?void 0:D.accountNumber)||"",ifscCode:((E=t==null?void 0:t.bankDetails)==null?void 0:E.ifscCode)||"",bankName:((X=t==null?void 0:t.bankDetails)==null?void 0:X.bankName)||""}}):I.createWithdrawal({amount:a,method:h,upiId:((ee=t==null?void 0:t.bankDetails)==null?void 0:ee.upiId)||""})},onSuccess:()=>{f.success("Withdrawal request submitted. It will be processed after admin approval."),k(!1),T(""),s.invalidateQueries({queryKey:["withdrawal-stats"]}),s.invalidateQueries({queryKey:["my-withdrawals"]}),s.invalidateQueries({queryKey:["interviewer-profile"]})},onError:a=>{f.error(a.message||"Failed to create withdrawal request")}}),_=(b==null?void 0:b.earnings)||[],xe=(b==null?void 0:b.stats)||{totalInterviews:0},$=(P==null?void 0:P.data)||[],p=(m==null?void 0:m.availableBalance)||0,B=d==="all"?_:_.filter(a=>a.status===d);console.log(B);const ue=a=>{switch(a){case"paid":return e.jsx(o,{variant:"success",children:"Paid"});case"pending":return e.jsx(o,{variant:"warning",children:"Pending"});case"processing":return e.jsx(o,{variant:"info",children:"Processing"});default:return e.jsx(o,{children:a})}},he=a=>{switch(a){case j.COMPLETED:return e.jsx(o,{variant:"success",children:"Completed"});case j.PENDING:return e.jsx(o,{variant:"warning",children:"Pending approval"});case j.PROCESSING:return e.jsx(o,{variant:"info",children:"Processing"});case j.FAILED:return e.jsx(o,{variant:"danger",children:"Failed"});case j.REJECTED:return e.jsx(o,{variant:"danger",children:"Rejected"});case j.REVERSED:return e.jsx(o,{variant:"gray",children:"Reversed"});default:return e.jsx(o,{children:a})}},pe=()=>{var x,D,E;const a=parseFloat(R);return isNaN(a)||a<1||a>p?!1:h===l.BANK_TRANSFER?!!((x=t==null?void 0:t.bankDetails)!=null&&x.accountNumber&&((D=t==null?void 0:t.bankDetails)!=null&&D.ifscCode)):!!((E=t==null?void 0:t.bankDetails)!=null&&E.upiId)};return me?e.jsx(te,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(ye,{size:"lg"})})}):e.jsx(te,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Earnings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your interview earnings and payouts"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(u,{onClick:()=>k(!0),disabled:p<1,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Withdraw"]}),e.jsxs(u,{variant:"outline",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(g,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Available Balance"}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:["₹",p==null?void 0:p.toLocaleString()]})]}),e.jsx(re,{className:"h-12 w-12 text-green-200"})]})})}),e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(g,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm",children:"Pending Withdrawal"}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:["₹",((O=m==null?void 0:m.pendingAmount)==null?void 0:O.toLocaleString())||0]})]}),e.jsx(ne,{className:"h-12 w-12 text-yellow-200"})]})})}),e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(g,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Total Withdrawn"}),e.jsxs("p",{className:"text-3xl font-bold mt-1",children:["₹",((z=m==null?void 0:m.totalWithdrawn)==null?void 0:z.toLocaleString())||0]})]}),e.jsx(Ne,{className:"h-12 w-12 text-blue-200"})]})})}),e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(g,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"Total Interviews"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:xe.totalInterviews})]}),e.jsx(ke,{className:"h-12 w-12 text-purple-200"})]})})})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>L("earnings"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${A==="earnings"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Earnings History"}),e.jsx("button",{onClick:()=>L("withdrawals"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${A==="withdrawals"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Withdrawal History"})]}),A==="earnings"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Period"}),e.jsxs("select",{value:r,onChange:a=>c(a.target.value),className:"block w-full px-4 py-2.5 text-gray-900 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"this_week",children:"This Week"}),e.jsx("option",{value:"this_month",children:"This Month"}),e.jsx("option",{value:"last_month",children:"Last Month"}),e.jsx("option",{value:"this_year",children:"This Year"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:d,onChange:a=>ce(a.target.value),className:"block w-full px-4 py-2.5 text-gray-900 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"})]})]})]})}),e.jsx(g,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interview Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(M,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No earnings found"}),e.jsx("p",{className:"text-sm",children:"Complete interviews to start earning"})]})}):B.map((a,x)=>e.jsxs(w.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:x*.05},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.candidateName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.type," Interview"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),a.duration," mins"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["₹",a.amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue(a.status)})]},a.id))})]})})})]}),A==="withdrawals"&&e.jsx(g,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(le,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No withdrawals yet"}),e.jsx("p",{className:"text-sm",children:"Make your first withdrawal when you have earnings"})]})}):$.map((a,x)=>e.jsxs(w.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:x*.05},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),new Date(a.createdAt).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["₹",(a.amount/100).toLocaleString()]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:"text-gray-600",children:a.method===l.BANK_TRANSFER?"Bank Transfer":"UPI"}),a.method===l.BANK_TRANSFER&&a.bankDetails&&e.jsxs("p",{className:"text-xs text-gray-400",children:[a.bankDetails.bankName," - ",a.bankDetails.accountNumber]}),a.method===l.UPI&&a.upiId&&e.jsx("p",{className:"text-xs text-gray-400",children:a.upiId})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[he(a.status),a.failureReason&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:a.failureReason})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.status===j.PENDING&&e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>{window.confirm("Are you sure you want to cancel this withdrawal request?")&&H.mutate(a._id)},disabled:H.isPending,children:[e.jsx(be,{className:"h-4 w-4 mr-1"}),"Cancel"]})})]},a._id))})]})})}),e.jsx(g,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(M,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Payout Information"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Withdraw your earnings anytime to your bank account or UPI. Minimum withdrawal amount is ₹1 (for testing)."}),(Q=t==null?void 0:t.bankDetails)!=null&&Q.accountNumber?e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"Current Bank Account"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.bankDetails.accountHolderName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Account No:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:["****",t.bankDetails.accountNumber.slice(-4)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Bank:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.bankDetails.bankName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"IFSC:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.bankDetails.ifscCode})]}),t.bankDetails.upiId&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-500",children:"UPI ID:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.bankDetails.upiId})]})]})]}):e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ No bank details added yet. Please add your bank account to receive payouts."})}),e.jsx(u,{variant:"outline",size:"sm",className:"mt-3 border-blue-300",onClick:()=>v(!0),children:(V=t==null?void 0:t.bankDetails)!=null&&V.accountNumber?"Update Bank Details":"Add Bank Details"})]})]})}),e.jsx(se,{isOpen:de,onClose:()=>v(!1),title:"Update Bank Details",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please provide your bank account details for receiving payouts. Ensure all information is accurate."}),e.jsx(N,{label:"Account Holder Name",placeholder:"Enter name as per bank account",value:i.accountHolderName,onChange:a=>y({...i,accountHolderName:a.target.value}),required:!0}),e.jsx(N,{label:"Account Number",placeholder:"Enter your bank account number",value:i.accountNumber,onChange:a=>y({...i,accountNumber:a.target.value}),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(N,{label:"IFSC Code",placeholder:"e.g., SBIN0001234",value:i.ifscCode,onChange:a=>y({...i,ifscCode:a.target.value.toUpperCase()}),required:!0}),e.jsx(N,{label:"Bank Name",placeholder:"Enter bank name",value:i.bankName,onChange:a=>y({...i,bankName:a.target.value}),required:!0})]}),e.jsx(N,{label:"Branch Name (Optional)",placeholder:"Enter branch name",value:i.branchName||"",onChange:a=>y({...i,branchName:a.target.value})}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Alternative Payment Method"}),e.jsx(N,{label:"UPI ID (Optional)",placeholder:"e.g., yourname@upi",value:i.upiId||"",onChange:a=>y({...i,upiId:a.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(u,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(u,{onClick:()=>K.mutate({bankDetails:i}),isLoading:K.isPending,disabled:!i.accountHolderName||!i.accountNumber||!i.ifscCode||!i.bankName,children:"Save Bank Details"})]})]})}),e.jsx(se,{isOpen:oe,onClose:()=>k(!1),title:"Withdraw Earnings",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700",children:"Available Balance"}),e.jsxs("p",{className:"text-3xl font-bold text-green-800",children:["₹",p.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Withdrawal Amount (₹)"}),e.jsx(N,{type:"number",placeholder:"Enter amount (min ₹1)",value:R,onChange:a=>T(a.target.value),min:"1",max:p}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ₹1 (for testing) | Maximum: ₹",p.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex-1 p-4 border rounded-lg cursor-pointer transition-all ${h===l.BANK_TRANSFER?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"withdrawMethod",value:l.BANK_TRANSFER,checked:h===l.BANK_TRANSFER,onChange:()=>q(l.BANK_TRANSFER),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"h-8 w-8 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"font-medium",children:"Bank Transfer"}),(G=t==null?void 0:t.bankDetails)!=null&&G.accountNumber?e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["****",t.bankDetails.accountNumber.slice(-4)]}):e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Not configured"})]})]}),e.jsxs("label",{className:`flex-1 p-4 border rounded-lg cursor-pointer transition-all ${h===l.UPI?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"withdrawMethod",value:l.UPI,checked:h===l.UPI,onChange:()=>q(l.UPI),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"h-8 w-8 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"font-medium",children:"UPI"}),(Z=t==null?void 0:t.bankDetails)!=null&&Z.upiId?e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.bankDetails.upiId}):e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Not configured"})]})]})]})]}),!((J=t==null?void 0:t.bankDetails)!=null&&J.accountNumber)&&!((Y=t==null?void 0:t.bankDetails)!=null&&Y.upiId)&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Please add your bank details or UPI ID before making a withdrawal."}),e.jsx(u,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>{k(!1),v(!0)},children:"Add Bank Details"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(u,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsxs(u,{onClick:()=>U.mutate(),isLoading:U.isPending,disabled:!pe(),children:["Withdraw ₹",R||"0"]})]})]})})]})})};export{Qe as default};
