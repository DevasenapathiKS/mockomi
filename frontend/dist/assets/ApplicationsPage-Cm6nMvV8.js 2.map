{"version":3,"file":"ApplicationsPage-Cm6nMvV8.js","sources":["../../src/pages/dashboard/ApplicationsPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Link } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport {\n  BriefcaseIcon,\n  BuildingOfficeIcon,\n  MapPinIcon,\n  CalendarIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  EyeIcon,\n} from '@heroicons/react/24/outline';\nimport { jobService } from '@/services/jobService';\nimport { ApplicationStatus, JobApplication } from '@/types';\nimport { DashboardLayout } from '@/components/layout';\nimport { Button, Card, Spinner, EmptyState } from '@/components/ui';\n\nconst ApplicationsPage: React.FC = () => {\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [page, setPage] = useState(1);\n\n  const { data, isLoading } = useQuery({\n    queryKey: ['my-applications', page],\n    queryFn: () => jobService.getMyApplications(page, 10),\n  });\n\n  const applications = data?.data || [];\n  const pagination = data?.pagination;\n\n  const filteredApplications = statusFilter === 'all'\n    ? applications\n    : applications.filter((app: JobApplication) => app.status === statusFilter);\n\n  const getStatusConfig = (status: ApplicationStatus) => {\n    const configs: Record<ApplicationStatus, { label: string; color: string; icon: React.ElementType }> = {\n      [ApplicationStatus.PENDING]: { label: 'Pending', color: 'bg-yellow-100 text-yellow-700', icon: ClockIcon },\n      [ApplicationStatus.REVIEWED]: { label: 'Reviewed', color: 'bg-blue-100 text-blue-700', icon: EyeIcon },\n      [ApplicationStatus.SHORTLISTED]: { label: 'Shortlisted', color: 'bg-green-100 text-green-700', icon: CheckCircleIcon },\n      [ApplicationStatus.INTERVIEW]: { label: 'Interview', color: 'bg-purple-100 text-purple-700', icon: CalendarIcon },\n      [ApplicationStatus.OFFERED]: { label: 'Offered', color: 'bg-emerald-100 text-emerald-700', icon: CheckCircleIcon },\n      [ApplicationStatus.REJECTED]: { label: 'Rejected', color: 'bg-red-100 text-red-700', icon: XCircleIcon },\n      [ApplicationStatus.WITHDRAWN]: { label: 'Withdrawn', color: 'bg-gray-100 text-gray-700', icon: XCircleIcon },\n    };\n    return configs[status] || { label: status, color: 'bg-gray-100 text-gray-700', icon: ClockIcon };\n  };\n\n  const stats = {\n    total: applications.length,\n    pending: applications.filter((a: JobApplication) => a.status === ApplicationStatus.PENDING).length,\n    shortlisted: applications.filter((a: JobApplication) => a.status === ApplicationStatus.SHORTLISTED).length,\n    rejected: applications.filter((a: JobApplication) => a.status === ApplicationStatus.REJECTED).length,\n  };\n\n  if (isLoading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex justify-center items-center h-64\">\n          <Spinner size=\"lg\" />\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"max-w-5xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">My Applications</h1>\n          <p className=\"text-gray-600 mt-1\">Track your job applications</p>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n          {[\n            { label: 'Total', count: stats.total, color: 'bg-blue-500' },\n            { label: 'Pending', count: stats.pending, color: 'bg-yellow-500' },\n            { label: 'Shortlisted', count: stats.shortlisted, color: 'bg-green-500' },\n            { label: 'Rejected', count: stats.rejected, color: 'bg-red-500' },\n          ].map((stat) => (\n            <Card key={stat.label} className=\"text-center\">\n              <div className={`w-3 h-3 ${stat.color} rounded-full mx-auto mb-2`} />\n              <p className=\"text-2xl font-bold text-gray-900\">{stat.count}</p>\n              <p className=\"text-sm text-gray-600\">{stat.label}</p>\n            </Card>\n          ))}\n        </div>\n\n        {/* Filter */}\n        <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2\">\n          {['all', ...Object.values(ApplicationStatus)].map((status) => (\n            <button\n              key={status}\n              onClick={() => setStatusFilter(status)}\n              className={`\n                px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors\n                ${statusFilter === status\n                  ? 'bg-primary-600 text-white'\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }\n              `}\n            >\n              {status === 'all' ? 'All' : status.replace('_', ' ')}\n            </button>\n          ))}\n        </div>\n\n        {/* Applications List */}\n        {filteredApplications.length > 0 ? (\n          <div className=\"space-y-4\">\n            {filteredApplications.map((application: JobApplication, index: number) => {\n              const statusConfig = getStatusConfig(application.status);\n              const StatusIcon = statusConfig.icon;\n\n              return (\n                <motion.div\n                  key={application._id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                >\n                  <Card>\n                    <div className=\"flex flex-col md:flex-row gap-4\">\n                      {/* Company Logo */}\n                      <div className=\"flex-shrink-0\">\n                        {application.job?.company?.logo ? (\n                          <img\n                            src={application.job.company.logo}\n                            alt={application.job.company.companyName}\n                            className=\"w-14 h-14 rounded-lg object-cover\"\n                          />\n                        ) : (\n                          <div className=\"w-14 h-14 rounded-lg bg-gray-100 flex items-center justify-center\">\n                            <BuildingOfficeIcon className=\"h-7 w-7 text-gray-400\" />\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Content */}\n                      <div className=\"flex-1\">\n                        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-2\">\n                          <div>\n                            <Link\n                              to={`/jobs/${application.job?._id}`}\n                              className=\"text-lg font-semibold text-gray-900 hover:text-primary-600\"\n                            >\n                              {application.job?.title || 'Job Title'}\n                            </Link>\n                            <p className=\"text-gray-600\">\n                              {application.job?.company?.companyName || 'Company'}\n                            </p>\n                          </div>\n                          <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${statusConfig.color}`}>\n                            <StatusIcon className=\"h-4 w-4 mr-1\" />\n                            {statusConfig.label}\n                          </div>\n                        </div>\n\n                        <div className=\"mt-3 flex flex-wrap gap-4 text-sm text-gray-500\">\n                          {application.job?.location && (\n                            <div className=\"flex items-center\">\n                              <MapPinIcon className=\"h-4 w-4 mr-1\" />\n                              {application.job.location.city || application.job.location.country}\n                            </div>\n                          )}\n                          <div className=\"flex items-center\">\n                            <BriefcaseIcon className=\"h-4 w-4 mr-1\" />\n                            {application.job?.jobType?.replace('-', ' ') || 'Full Time'}\n                          </div>\n                          <div className=\"flex items-center\">\n                            <CalendarIcon className=\"h-4 w-4 mr-1\" />\n                            Applied {new Date(application.appliedAt).toLocaleDateString()}\n                          </div>\n                        </div>\n\n                        {application.notes && (\n                          <div className=\"mt-3 p-3 bg-gray-50 rounded-lg\">\n                            <p className=\"text-sm text-gray-600\">\n                              <span className=\"font-medium\">Note:</span> {application.notes}\n                            </p>\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex md:flex-col gap-2\">\n                        <Link to={`/jobs/${application.job?._id}`}>\n                          <Button variant=\"outline\" size=\"sm\" className=\"w-full\">\n                            View Job\n                          </Button>\n                        </Link>\n                      </div>\n                    </div>\n                  </Card>\n                </motion.div>\n              );\n            })}\n          </div>\n        ) : (\n          <EmptyState\n            title=\"No applications found\"\n            description={\n              statusFilter !== 'all'\n                ? `You don't have any ${statusFilter.replace('_', ' ')} applications.`\n                : \"You haven't applied to any jobs yet.\"\n            }\n            action={\n              <Link to=\"/jobs\">\n                <Button>Browse Jobs</Button>\n              </Link>\n            }\n          />\n        )}\n\n        {/* Pagination */}\n        {pagination && pagination.pages > 1 && (\n          <div className=\"flex justify-center gap-2 mt-8\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setPage(page - 1)}\n              disabled={page === 1}\n            >\n              Previous\n            </Button>\n            <span className=\"flex items-center px-4 text-sm text-gray-600\">\n              Page {pagination.page} of {pagination.pages}\n            </span>\n            <Button\n              variant=\"outline\"\n              onClick={() => setPage(page + 1)}\n              disabled={page >= pagination.pages}\n            >\n              Next\n            </Button>\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n};\n\nexport default ApplicationsPage;\n"],"names":["ApplicationsPage","statusFilter","setStatusFilter","useState","page","setPage","data","isLoading","useQuery","jobService","applications","pagination","filteredApplications","app","getStatusConfig","status","ApplicationStatus","ClockIcon","EyeIcon","CheckCircleIcon","CalendarIcon","XCircleIcon","stats","a","jsx","DashboardLayout","Spinner","jsxs","stat","Card","application","index","statusConfig","StatusIcon","motion","_b","_a","BuildingOfficeIcon","Link","_c","_d","_g","MapPinIcon","BriefcaseIcon","_i","_h","_j","Button","EmptyState"],"mappings":"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"}