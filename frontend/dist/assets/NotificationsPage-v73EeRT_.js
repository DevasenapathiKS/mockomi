import{j as e,m as p}from"./ui-E8jIx32d.js";import{u as h}from"./data-CNpY1-rC.js";import{u as f,a as g,D as c,b as o,n as j}from"./DashboardLayout-DO_CSxSv.js";import{S as y,N as a}from"./index-DNJaUTwh.js";import"./vendor-08mqACR8.js";import{B as I}from"./Button-DkVvCag_.js";import"./Input-Bbjou70d.js";import"./Textarea-Da6oJh8a.js";import{C as R}from"./Card-Kk9NAdVM.js";import{E as A}from"./EmptyState-DFqz2BFE.js";import{F as C}from"./CheckCircleIcon-BIxcTuyz.js";import{F as T}from"./UserIcon-ACflAg1t.js";import{F as w}from"./CurrencyRupeeIcon-qiBkUxPz.js";import{F as b}from"./VideoCameraIcon-CgACITEP.js";import{F as P}from"./XMarkIcon-B-SQiyPX.js";import"./useAuth-CcWWJJRD.js";import"./UsersIcon-hudjBy-f.js";import"./BuildingOfficeIcon-m0Wh3_We.js";const K=()=>{var l;const{data:r,isLoading:d}=h({queryKey:["notifications"],queryFn:()=>j.getNotifications()}),m=f(),i=g(),n=s=>{switch(s){case a.APPLICATION_RECEIVED:case a.APPLICATION_STATUS:return P;case a.INTERVIEW_SCHEDULED:case a.INTERVIEW_REMINDER:case a.INTERVIEW_COMPLETED:return b;case a.PAYMENT_SUCCESS:case a.PAYMENT_FAILED:return w;case a.PROFILE_UPDATE:return T;default:return o}},x=s=>{switch(s){case a.APPLICATION_STATUS:case a.INTERVIEW_COMPLETED:case a.PAYMENT_SUCCESS:return"bg-green-100 text-green-600";case a.APPLICATION_RECEIVED:case a.INTERVIEW_SCHEDULED:return"bg-blue-100 text-blue-600";case a.INTERVIEW_REMINDER:return"bg-yellow-100 text-yellow-600";case a.PAYMENT_FAILED:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},t=((l=r==null?void 0:r.data)==null?void 0:l.filter(s=>!s.isRead).length)||0;return d?e.jsx(c,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(y,{size:"lg"})})}):e.jsx(c,{children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600 mt-1",children:t>0?`You have ${t} unread notifications`:"All caught up!"})]}),t>0&&e.jsxs(I,{variant:"outline",onClick:()=>i.mutate(),isLoading:i.isPending,children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Mark all as read"]})]}),r!=null&&r.data&&r.data.length>0?e.jsx("div",{className:"space-y-3",children:r.data.map((s,u)=>{const E=n(s.type),N=x(s.type);return e.jsx(p.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.03},children:e.jsx("div",{className:"cursor-pointer",onClick:()=>{s.isRead||m.mutate(s._id)},children:e.jsx(R,{className:`
                        transition-all hover:shadow-md
                        ${s.isRead?"":"border-l-4 border-l-primary-500 bg-primary-50/30"}
                      `,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`p-3 rounded-full ${N}`,children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${s.isRead?"text-gray-700":"text-gray-900"}`,children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.message})]}),!s.isRead&&e.jsx("div",{className:"h-2 w-2 bg-primary-500 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(s.createdAt).toLocaleString()})]})]})})})},s._id)})}):e.jsx(A,{icon:e.jsx(o,{className:"h-12 w-12"}),title:"No notifications",description:"You're all caught up! Check back later for updates."})]})})};export{K as default};
