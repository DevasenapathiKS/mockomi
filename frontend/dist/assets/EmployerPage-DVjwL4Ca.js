import{j as e}from"./ui-E8jIx32d.js";import{r as l}from"./vendor-08mqACR8.js";import{h as u}from"./index-Csr_6NQa.js";import"./data-CNpY1-rC.js";const b=async()=>u.get("/profile/employer"),g=async s=>u.put("/profile/employer",s),C=()=>{const[s,d]=l.useState(null),[x,o]=l.useState(!0),[m,r]=l.useState(null),[h,c]=l.useState(!1),[n,p]=l.useState({});l.useEffect(()=>{(async()=>{o(!0),r(null);try{const a=await b();a.success&&a.data?(d(a.data),p(a.data)):r(a.message||"Failed to load profile")}catch{r("Error loading profile")}o(!1)})()},[]);const i=t=>{const{name:a,value:y}=t.target;p(j=>({...j,[a]:y}))},f=async()=>{o(!0),r(null);try{const t=await g(n);t.success&&t.data?(d(t.data),c(!1)):r(t.message||"Failed to update profile")}catch{r("Error updating profile")}o(!1)};return x?e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Employer Profile"}),e.jsx("p",{children:"Loading employer data..."})]}):m?e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Employer Profile"}),e.jsx("p",{className:"text-red-500",children:m})]}):e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Employer Profile"}),h?e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",name:"companyName",value:n.companyName||"",onChange:i,placeholder:"Company Name",className:"border p-2 w-full"}),e.jsx("input",{type:"text",name:"website",value:n.website||"",onChange:i,placeholder:"Website",className:"border p-2 w-full"}),e.jsx("textarea",{name:"description",value:n.description||"",onChange:i,placeholder:"Description",className:"border p-2 w-full"}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:f,children:"Save"}),e.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded ml-2",onClick:()=>c(!1),children:"Cancel"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Company Name:"})," ",s==null?void 0:s.companyName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Website:"})," ",s==null?void 0:s.website]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Description:"})," ",s==null?void 0:s.description]}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded mt-4",onClick:()=>c(!0),children:"Edit Profile"})]})]})};export{C as default};
