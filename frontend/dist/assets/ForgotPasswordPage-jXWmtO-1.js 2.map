{"version":3,"file":"ForgotPasswordPage-jXWmtO-1.js","sources":["../../src/pages/auth/ForgotPasswordPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { EnvelopeIcon, ArrowLeftIcon, CheckCircleIcon } from '@heroicons/react/24/outline';\nimport { authService } from '@/services/authService';\nimport Button from '@/components/ui/Button';\nimport Input from '@/components/ui/Input';\nimport { Card } from '@/components/ui/Card';\n\nconst forgotPasswordSchema = z.object({\n  email: z.string().email('Invalid email address'),\n});\n\ntype ForgotPasswordFormData = z.infer<typeof forgotPasswordSchema>;\n\nconst ForgotPasswordPage: React.FC = () => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [resetUrl, setResetUrl] = useState<string>('');\n  const [devMode, setDevMode] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<ForgotPasswordFormData>({\n    resolver: zodResolver(forgotPasswordSchema),\n  });\n\n  const onSubmit = async (data: ForgotPasswordFormData) => {\n    try {\n      setIsSubmitting(true);\n      setError('');\n      const response: any = await authService.forgotPassword(data.email);\n      setIsSuccess(true);\n      \n      // Check if we got a development mode response\n      if (response?.devMode && response?.resetUrl) {\n        setDevMode(true);\n        setResetUrl(response.resetUrl);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to send reset email');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (isSuccess) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"w-full max-w-md space-y-8\">\n          <div className=\"text-center\">\n            <Link to=\"/\" className=\"inline-block\">\n              <span className=\"text-3xl font-bold gradient-text\">Mockomi</span>\n            </Link>\n          </div>\n\n          <Card className=\"mt-8\">\n            <div className=\"text-center\">\n              <CheckCircleIcon className=\"mx-auto h-12 w-12 text-green-500\" />\n              <h2 className=\"mt-4 text-2xl font-bold text-gray-900\">\n                {devMode ? 'Development Mode' : 'Check your email'}\n              </h2>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                {devMode \n                  ? 'Email service is not configured. Use the link below to reset your password:'\n                  : 'If an account exists with that email address, we\\'ve sent you a password reset link.'\n                }\n              </p>\n              \n              {devMode && resetUrl && (\n                <div className=\"mt-4\">\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                    <p className=\"text-xs text-yellow-800 mb-2 font-semibold\">\n                      ⚠️ DEVELOPMENT MODE ONLY\n                    </p>\n                    <Link \n                      to={resetUrl.replace(window.location.origin, '')}\n                      className=\"inline-block bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors\"\n                    >\n                      Reset Password Now\n                    </Link>\n                    <p className=\"text-xs text-gray-600 mt-3\">\n                      Or copy this URL:\n                    </p>\n                    <div className=\"mt-2 p-2 bg-white rounded border border-gray-200\">\n                      <code className=\"text-xs text-gray-800 break-all\">{resetUrl}</code>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {!devMode && (\n                <p className=\"mt-4 text-xs text-gray-500\">\n                  Didn't receive the email? Check your spam folder or try again.\n                </p>\n              )}\n              \n              <div className=\"mt-6\">\n                <Link to=\"/login\">\n                  <Button variant=\"outline\" fullWidth>\n                    <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n                    Back to login\n                  </Button>\n                </Link>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"w-full max-w-md space-y-8\">\n        <div className=\"text-center\">\n          <Link to=\"/\" className=\"inline-block\">\n            <span className=\"text-3xl font-bold gradient-text\">Mockomi</span>\n          </Link>\n          <h2 className=\"mt-6 text-3xl font-bold tracking-tight text-gray-900\">\n            Forgot your password?\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            No worries! Enter your email address and we'll send you a link to reset your password.\n          </p>\n        </div>\n\n        <Card className=\"mt-8\">\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            {error && (\n              <div className=\"rounded-md bg-red-50 p-4\">\n                <p className=\"text-sm text-red-800\">{error}</p>\n              </div>\n            )}\n\n            <Input\n              label=\"Email address\"\n              type=\"email\"\n              autoComplete=\"email\"\n              placeholder=\"you@example.com\"\n              leftIcon={<EnvelopeIcon className=\"h-5 w-5\" />}\n              error={errors.email?.message}\n              {...register('email')}\n            />\n\n            <Button type=\"submit\" fullWidth isLoading={isSubmitting} size=\"lg\">\n              Send reset link\n            </Button>\n\n            <div className=\"text-center\">\n              <Link\n                to=\"/login\"\n                className=\"text-sm font-medium text-primary-600 hover:text-primary-500 inline-flex items-center\"\n              >\n                <ArrowLeftIcon className=\"h-4 w-4 mr-1\" />\n                Back to login\n              </Link>\n            </div>\n          </form>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPasswordPage;\n"],"names":["forgotPasswordSchema","z.object","z.string","ForgotPasswordPage","isSubmitting","setIsSubmitting","useState","isSuccess","setIsSuccess","error","setError","resetUrl","setResetUrl","devMode","setDevMode","register","handleSubmit","errors","useForm","zodResolver","onSubmit","data","response","authService","err","jsxs","jsx","Link","Card","CheckCircleIcon","Button","ArrowLeftIcon","Input","EnvelopeIcon","_a"],"mappings":"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"}