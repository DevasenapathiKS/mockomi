import{j as e,m as M}from"./ui-E8jIx32d.js";import{r as t,L as O}from"./vendor-08mqACR8.js";import{u as _}from"./data-CNpY1-rC.js";import{j as B}from"./jobService--B3Xlyl8.js";import{J as l,E as m,S as D}from"./index-DNJaUTwh.js";import{P as U}from"./PublicLayout-BjGpB1az.js";import{B as x}from"./Button-DkVvCag_.js";import"./Input-Bbjou70d.js";import"./Textarea-Da6oJh8a.js";import{C}from"./Card-Kk9NAdVM.js";import{B as H}from"./Badge-BMjbNvha.js";import{E as q}from"./EmptyState-DFqz2BFE.js";import{F as z}from"./MagnifyingGlassIcon-DUoGsubn.js";import{F as V}from"./BuildingOfficeIcon-m0Wh3_We.js";import{F as W}from"./MapPinIcon-CHXOjtSM.js";import{F as Y}from"./XMarkIcon-B-SQiyPX.js";import{F as K}from"./CurrencyRupeeIcon-qiBkUxPz.js";import{F as Q}from"./ClockIcon-sUFCzahK.js";function X({title:n,titleId:c,...r},p){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":c},r),n?t.createElement("title",{id:c},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Z=t.forwardRef(X),ge=()=>{var N,w;const[n,c]=t.useState(""),[r,p]=t.useState("all"),[d,g]=t.useState("all"),[h,y]=t.useState("all"),[o,u]=t.useState(1),[f,P]=t.useState(!1),{data:a,isLoading:v}=_({queryKey:["jobs",{search:n,jobType:r,experienceLevel:d,isRemote:h,page:o}],queryFn:()=>B.searchJobs({search:n||void 0,type:r!=="all"?r:void 0,experience:d!=="all"?d:void 0,remote:h==="true"?"true":void 0,page:o,limit:12})}),$=s=>{s.preventDefault(),u(1)},j=()=>{c(""),p("all"),g("all"),y("all"),u(1)},I=(s,i)=>!s&&!i?"Not disclosed":s&&i?`₹${(s/1e5).toFixed(1)}L - ₹${(i/1e5).toFixed(1)}L`:s?`₹${(s/1e5).toFixed(1)}L+`:`Up to ₹${(i/1e5).toFixed(1)}L`,A=s=>({[l.FULL_TIME]:"primary",[l.PART_TIME]:"info",[l.CONTRACT]:"warning",[l.INTERNSHIP]:"success",[l.REMOTE]:"gray"})[s]||"gray",J=r!=="all"||d!=="all"||h!=="all";return console.log("data",a),e.jsx(U,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Find Your Dream Job"}),e.jsx("form",{onSubmit:$,className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Job title, keywords, or company",value:n,onChange:s=>c(s.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-white"})]}),e.jsx(x,{type:"submit",size:"lg",className:"md:w-auto",children:"Search Jobs"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:`lg:w-64 ${f?"block":"hidden lg:block"}`,children:e.jsxs(C,{className:"sticky top-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),J&&e.jsx("button",{onClick:j,className:"text-sm text-primary-600 hover:text-primary-700",children:"Clear all"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type"}),e.jsxs("select",{value:r,onChange:s=>p(s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:l.FULL_TIME,children:"Full Time"}),e.jsx("option",{value:l.PART_TIME,children:"Part Time"}),e.jsx("option",{value:l.CONTRACT,children:"Contract"}),e.jsx("option",{value:l.INTERNSHIP,children:"Internship"}),e.jsx("option",{value:l.REMOTE,children:"Remote"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Level"}),e.jsxs("select",{value:d,onChange:s=>g(s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:m.ENTRY,children:"Entry Level"}),e.jsx("option",{value:m.MID,children:"Mid Level"}),e.jsx("option",{value:m.SENIOR,children:"Senior Level"}),e.jsx("option",{value:m.LEAD,children:"Lead"}),e.jsx("option",{value:m.EXECUTIVE,children:"Executive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remote Work"}),e.jsxs("select",{value:h,onChange:s=>y(s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"true",children:"Remote Only"}),e.jsx("option",{value:"false",children:"On-site Only"})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs(x,{variant:"outline",onClick:()=>P(!f),className:"w-full",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),f?"Hide Filters":"Show Filters"]})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("p",{className:"text-gray-600",children:v?"Loading...":`Showing ${((N=a==null?void 0:a.data)==null?void 0:N.length)||0} of ${((w=a==null?void 0:a.pagination)==null?void 0:w.total)||0} jobs`})}),v&&e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(D,{size:"lg"})}),a&&a.data&&a.data.length>0&&e.jsx("div",{className:"space-y-4",children:a.data.map((s,i)=>{var b,F,L,E,T,R,k;return e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:e.jsx(O,{to:`/jobs/${s._id}`,children:e.jsx(C,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:(b=s.company)!=null&&b.logo?e.jsx("img",{src:s.company.logo,alt:s.company.companyName,className:"w-16 h-16 rounded-lg object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center",children:e.jsx(V,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-primary-600",children:s.title}),e.jsx("p",{className:"text-gray-600",children:((F=s.company)==null?void 0:F.companyName)||"Company"})]}),e.jsx(H,{variant:A(s.employmentType),children:s.employmentType.replace("_"," ").toLocaleUpperCase()})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-1"}),((L=s.location)==null?void 0:L.city)||((E=s.location)==null?void 0:E.country)||"Location not specified",((T=s.location)==null?void 0:T.remote)&&" (Remote)"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),s.experienceLevel]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),I((R=s.salary)==null?void 0:R.min,(k=s.salary)==null?void 0:k.max)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),new Date(s.createdAt).toLocaleDateString()]})]}),s.skills&&s.skills.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.skills.slice(0,4).map(S=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:S},S)),s.skills.length>4&&e.jsxs("span",{className:"px-2 py-1 text-gray-500 text-xs",children:["+",s.skills.length-4," more"]})]})]})]})})})},s._id)})}),a&&a.data&&a.data.length===0&&e.jsx(q,{title:"No jobs found",description:"Try adjusting your search or filters to find what you're looking for.",action:e.jsx(x,{onClick:j,children:"Clear Filters"})}),a&&a.pagination&&a.pagination.totalPages>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[e.jsx(x,{variant:"outline",onClick:()=>u(o-1),disabled:o===1,children:"Previous"}),e.jsxs("span",{className:"flex items-center px-4 text-sm text-gray-600",children:["Page ",a.pagination.page," of ",a.pagination.totalPages]}),e.jsx(x,{variant:"outline",onClick:()=>u(o+1),disabled:o>=a.pagination.totalPages,children:"Next"})]})]})]})})]})})};export{ge as default};
