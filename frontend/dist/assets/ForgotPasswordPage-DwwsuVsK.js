import{j as e}from"./ui-CYsdiTaZ.js";import{r as t,L as r}from"./vendor-08mqACR8.js";import{u as v}from"./index.esm-B2VVV5rR.js";import{t as k,o as S,s as E}from"./types-CnmS1EYR.js";import{a as F}from"./index-Ct5TYyMt.js";import{B as n}from"./Button-qtzxgz-Z.js";import{I as M}from"./Input-BBy5sVcg.js";import{C as d}from"./Card-L60jO2Bd.js";import{F as I}from"./CheckCircleIcon-BIxcTuyz.js";import{F as x}from"./ArrowLeftIcon-iBAG5m-G.js";import{F as R}from"./EnvelopeIcon-d1YaIzix.js";import"./data-BB-WZl-K.js";const L=S({email:E().email("Invalid email address")}),q=()=>{var c;const[h,i]=t.useState(!1),[p,u]=t.useState(!1),[o,m]=t.useState(""),[l,f]=t.useState(""),[a,g]=t.useState(!1),{register:j,handleSubmit:y,formState:{errors:N}}=v({resolver:k(L)}),w=async b=>{try{i(!0),m("");const s=await F.forgotPassword(b.email);u(!0),s!=null&&s.devMode&&(s!=null&&s.resetUrl)&&(g(!0),f(s.resetUrl))}catch(s){m(s instanceof Error?s.message:"Failed to send reset email")}finally{i(!1)}};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsx("div",{className:"text-center",children:e.jsx(r,{to:"/",className:"inline-block",children:e.jsx("span",{className:"text-3xl font-bold gradient-text",children:"Mockomi"})})}),e.jsx(d,{className:"mt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"mx-auto h-12 w-12 text-green-500"}),e.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:a?"Development Mode":"Check your email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a?"Email service is not configured. Use the link below to reset your password:":"If an account exists with that email address, we've sent you a password reset link."}),a&&l&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-yellow-800 mb-2 font-semibold",children:"⚠️ DEVELOPMENT MODE ONLY"}),e.jsx(r,{to:l.replace(window.location.origin,""),className:"inline-block bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Reset Password Now"}),e.jsx("p",{className:"text-xs text-gray-600 mt-3",children:"Or copy this URL:"}),e.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:e.jsx("code",{className:"text-xs text-gray-800 break-all",children:l})})]})}),!a&&e.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."}),e.jsx("div",{className:"mt-6",children:e.jsx(r,{to:"/login",children:e.jsxs(n,{variant:"outline",fullWidth:!0,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Back to login"]})})})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(r,{to:"/",className:"inline-block",children:e.jsx("span",{className:"text-3xl font-bold gradient-text",children:"Mockomi"})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-gray-900",children:"Forgot your password?"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),e.jsx(d,{className:"mt-8",children:e.jsxs("form",{onSubmit:y(w),className:"space-y-6",children:[o&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("p",{className:"text-sm text-red-800",children:o})}),e.jsx(M,{label:"Email address",type:"email",autoComplete:"email",placeholder:"you@example.com",leftIcon:e.jsx(R,{className:"h-5 w-5"}),error:(c=N.email)==null?void 0:c.message,...j("email")}),e.jsx(n,{type:"submit",fullWidth:!0,isLoading:h,size:"lg",children:"Send reset link"}),e.jsx("div",{className:"text-center",children:e.jsxs(r,{to:"/login",className:"text-sm font-medium text-primary-600 hover:text-primary-500 inline-flex items-center",children:[e.jsx(x,{className:"h-4 w-4 mr-1"}),"Back to login"]})})]})})]})})};export{q as default};
