{"version":3,"file":"RegisterPage-De1WrwcQ.js","sources":["../../src/pages/auth/RegisterPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport {\n  EnvelopeIcon,\n  LockClosedIcon,\n  EyeIcon,\n  EyeSlashIcon,\n  UserIcon,\n  PhoneIcon,\n} from '@heroicons/react/24/outline';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useAuthStore } from '@/store/authStore';\nimport Button from '@/components/ui/Button';\nimport Input from '@/components/ui/Input';\nimport { Card } from '@/components/ui/Card';\nimport { clsx } from 'clsx';\n\nconst registerSchema = z\n  .object({\n    firstName: z.string().min(2, 'First name must be at least 2 characters'),\n    lastName: z.string().min(2, 'Last name must be at least 2 characters'),\n    email: z.string().email('Invalid email address'),\n    phone: z.string().optional(),\n    password: z\n      .string()\n      .min(8, 'Password must be at least 8 characters')\n      .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n      .regex(/[a-z]/, 'Password must contain at least one lowercase letter')\n      .regex(/[0-9]/, 'Password must contain at least one number'),\n    confirmPassword: z.string(),\n    role: z.enum(['job_seeker', 'employer', 'interviewer']),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: ['confirmPassword'],\n  });\n\ntype RegisterFormData = z.infer<typeof registerSchema>;\n\ntype UserRoleOption = {\n  value: 'job_seeker' | 'employer' | 'interviewer';\n  label: string;\n  description: string;\n  icon: string;\n};\n\nconst roleOptions: UserRoleOption[] = [\n  {\n    value: 'job_seeker',\n    label: 'Job Seeker',\n    description: 'Find jobs and practice interviews',\n    icon: 'ðŸŽ¯',\n  },\n  {\n    value: 'employer',\n    label: 'Employer',\n    description: 'Post jobs and find candidates',\n    icon: 'ðŸ¢',\n  },\n  {\n    value: 'interviewer',\n    label: 'Interviewer',\n    description: 'Conduct mock interviews and earn',\n    icon: 'ðŸŽ¤',\n  },\n];\n\nconst RegisterPage: React.FC = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const { register: registerUser, isRegistering } = useAuth();\n  const { isAuthenticated } = useAuthStore();\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: { errors },\n  } = useForm<RegisterFormData>({\n    resolver: zodResolver(registerSchema),\n    defaultValues: {\n      role: 'job_seeker',\n    },\n  });\n\n  const selectedRole = watch('role');\n\n  // Redirect if already authenticated\n  if (isAuthenticated) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  const onSubmit = (data: RegisterFormData) => {\n    const { confirmPassword, ...registerData } = data;\n    registerUser(registerData);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"w-full max-w-lg space-y-8\">\n        <div className=\"text-center\">\n          <Link to=\"/\" className=\"inline-block\">\n            <span className=\"text-3xl font-bold gradient-text\">Mockomi</span>\n          </Link>\n          <h2 className=\"mt-6 text-3xl font-bold tracking-tight text-gray-900\">\n            Create your account\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Already have an account?{' '}\n            <Link to=\"/login\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n              Sign in\n            </Link>\n          </p>\n        </div>\n\n        <Card className=\"mt-8\">\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            {/* Role Selection */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                I want to join as\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {roleOptions.map((option) => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => setValue('role', option.value)}\n                    className={clsx(\n                      'relative flex flex-col items-center rounded-lg border-2 p-4 cursor-pointer transition-all',\n                      selectedRole === option.value\n                        ? 'border-primary-600 bg-primary-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                    )}\n                  >\n                    <span className=\"text-2xl mb-2\">{option.icon}</span>\n                    <span\n                      className={clsx(\n                        'text-sm font-medium',\n                        selectedRole === option.value ? 'text-primary-600' : 'text-gray-900'\n                      )}\n                    >\n                      {option.label}\n                    </span>\n                    <span className=\"text-xs text-gray-500 text-center mt-1\">\n                      {option.description}\n                    </span>\n                  </button>\n                ))}\n              </div>\n              {errors.role && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.role.message}</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Input\n                label=\"First name\"\n                placeholder=\"John\"\n                leftIcon={<UserIcon className=\"h-5 w-5\" />}\n                error={errors.firstName?.message}\n                {...register('firstName')}\n              />\n              <Input\n                label=\"Last name\"\n                placeholder=\"Doe\"\n                error={errors.lastName?.message}\n                {...register('lastName')}\n              />\n            </div>\n\n            <Input\n              label=\"Email address\"\n              type=\"email\"\n              autoComplete=\"email\"\n              placeholder=\"you@example.com\"\n              leftIcon={<EnvelopeIcon className=\"h-5 w-5\" />}\n              error={errors.email?.message}\n              helperText={\n                selectedRole === 'employer'\n                  ? 'Please use your company email (not gmail, yahoo, etc.)'\n                  : undefined\n              }\n              {...register('email')}\n            />\n\n            <Input\n              label=\"Phone number\"\n              type=\"tel\"\n              placeholder=\"+91 98765 43210\"\n              leftIcon={<PhoneIcon className=\"h-5 w-5\" />}\n              error={errors.phone?.message}\n              {...register('phone')}\n            />\n\n            <Input\n              label=\"Password\"\n              type={showPassword ? 'text' : 'password'}\n              autoComplete=\"new-password\"\n              placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n              leftIcon={<LockClosedIcon className=\"h-5 w-5\" />}\n              rightIcon={\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"focus:outline-none\"\n                >\n                  {showPassword ? (\n                    <EyeSlashIcon className=\"h-5 w-5\" />\n                  ) : (\n                    <EyeIcon className=\"h-5 w-5\" />\n                  )}\n                </button>\n              }\n              error={errors.password?.message}\n              {...register('password')}\n            />\n\n            <Input\n              label=\"Confirm password\"\n              type={showConfirmPassword ? 'text' : 'password'}\n              autoComplete=\"new-password\"\n              placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n              leftIcon={<LockClosedIcon className=\"h-5 w-5\" />}\n              rightIcon={\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"focus:outline-none\"\n                >\n                  {showConfirmPassword ? (\n                    <EyeSlashIcon className=\"h-5 w-5\" />\n                  ) : (\n                    <EyeIcon className=\"h-5 w-5\" />\n                  )}\n                </button>\n              }\n              error={errors.confirmPassword?.message}\n              {...register('confirmPassword')}\n            />\n\n            <div className=\"flex items-start\">\n              <input\n                id=\"terms\"\n                type=\"checkbox\"\n                required\n                className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded mt-1\"\n              />\n              <label htmlFor=\"terms\" className=\"ml-2 block text-sm text-gray-600\">\n                I agree to the{' '}\n                <Link to=\"/terms\" className=\"text-primary-600 hover:text-primary-500\">\n                  Terms of Service\n                </Link>{' '}\n                and{' '}\n                <Link to=\"/privacy\" className=\"text-primary-600 hover:text-primary-500\">\n                  Privacy Policy\n                </Link>\n              </label>\n            </div>\n\n            <Button type=\"submit\" fullWidth isLoading={isRegistering} size=\"lg\">\n              Create account\n            </Button>\n          </form>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterPage;\n"],"names":["registerSchema","z.object","z.string","z.enum","data","roleOptions","RegisterPage","showPassword","setShowPassword","useState","showConfirmPassword","setShowConfirmPassword","registerUser","isRegistering","useAuth","isAuthenticated","useAuthStore","register","handleSubmit","watch","setValue","errors","useForm","zodResolver","selectedRole","jsx","Navigate","onSubmit","confirmPassword","registerData","jsxs","Link","Card","option","clsx","Input","UserIcon","_a","_b","EnvelopeIcon","_c","PhoneIcon","_d","LockClosedIcon","EyeSlashIcon","EyeIcon","_e","_f","Button"],"mappings":"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"}