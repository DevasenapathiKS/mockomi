import{j as r,m as E,A as de}from"./ui-E8jIx32d.js";import{r as m,g as xt,u as yt}from"./vendor-08mqACR8.js";import{u as bt,b as wt,c as jt,d as Ct,e as Nt,f as St,g as Rt,S as Ae,z as U}from"./index-BabjQEkz.js";import{u as Et,b as ke}from"./index.esm-B2VVV5rR.js";import{D as Me}from"./DashboardLayout-C5kvr8V8.js";import{B as R}from"./Button-DkVvCag_.js";import{I as j}from"./Input-Bbjou70d.js";import{T as Fe}from"./Textarea-Da6oJh8a.js";import{C as M}from"./Card-Kk9NAdVM.js";import{B as Pt}from"./Badge-BMjbNvha.js";import{F as Dt}from"./CheckCircleIcon-DZna7A69.js";import{F as _t}from"./PencilIcon-DMuyJX-T.js";import{F as Le}from"./UserIcon-ACflAg1t.js";import{F as Te,b as Oe}from"./XMarkIcon-B-SQiyPX.js";import{F as K,a as We}from"./TrashIcon-D7hA1fpV.js";import{F as Ie}from"./CheckCircleIcon-BIxcTuyz.js";import"./data-CNpY1-rC.js";import"./useAuth-OdmgEKOS.js";import"./UsersIcon-hudjBy-f.js";import"./BuildingOfficeIcon-m0Wh3_We.js";function zt({title:o,titleId:i,...e},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},e),o?m.createElement("title",{id:i},o):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Ue=m.forwardRef(zt);function At({title:o,titleId:i,...e},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},e),o?m.createElement("title",{id:i},o):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const kt=m.forwardRef(At);function Mt({title:o,titleId:i,...e},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},e),o?m.createElement("title",{id:i},o):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ee=m.forwardRef(Mt);function Ft({title:o,titleId:i,...e},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},e),o?m.createElement("title",{id:i},o):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const pe=m.forwardRef(Ft);var he=function(o,i){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},he(o,i)};function Lt(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");he(o,i);function e(){this.constructor=o}o.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var y=function(){return y=Object.assign||function(i){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},y.apply(this,arguments)};var Ze=!1,O,ue,me,re,oe,Ke,ae,fe,ge,ve,Je,xe,ye,qe,Qe;function C(){if(!Ze){Ze=!0;var o=navigator.userAgent,i=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(o),e=/(Mac OS X)|(Windows)|(Linux)/.exec(o);if(xe=/\b(iPhone|iP[ao]d)/.exec(o),ye=/\b(iP[ao]d)/.exec(o),ve=/Android/i.exec(o),qe=/FBAN\/\w+;/i.exec(o),Qe=/Mobile/i.exec(o),Je=!!/Win64/.exec(o),i){O=i[1]?parseFloat(i[1]):i[5]?parseFloat(i[5]):NaN,O&&document&&document.documentMode&&(O=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(o);Ke=t?parseFloat(t[1])+4:O,ue=i[2]?parseFloat(i[2]):NaN,me=i[3]?parseFloat(i[3]):NaN,re=i[4]?parseFloat(i[4]):NaN,re?(i=/(?:Chrome\/(\d+\.\d+))/.exec(o),oe=i&&i[1]?parseFloat(i[1]):NaN):oe=NaN}else O=ue=me=oe=re=NaN;if(e){if(e[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(o);ae=a?parseFloat(a[1].replace("_",".")):!0}else ae=!1;fe=!!e[2],ge=!!e[3]}else ae=fe=ge=!1}}var be={ie:function(){return C()||O},ieCompatibilityMode:function(){return C()||Ke>O},ie64:function(){return be.ie()&&Je},firefox:function(){return C()||ue},opera:function(){return C()||me},webkit:function(){return C()||re},safari:function(){return be.webkit()},chrome:function(){return C()||oe},windows:function(){return C()||fe},osx:function(){return C()||ae},linux:function(){return C()||ge},iphone:function(){return C()||xe},mobile:function(){return C()||xe||ye||ve||Qe},nativeApp:function(){return C()||qe},android:function(){return C()||ve},ipad:function(){return C()||ye}},Tt=be,Ot=!!(typeof window<"u"&&window.document&&window.document.createElement),Wt={canUseDOM:Ot},It=Wt,et=It,tt;et.canUseDOM&&(tt=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ut(o,i){if(!et.canUseDOM||i&&!("addEventListener"in document))return!1;var e="on"+o,t=e in document;if(!t){var a=document.createElement("div");a.setAttribute(e,"return;"),t=typeof a[e]=="function"}return!t&&tt&&o==="wheel"&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var Zt=Ut,Bt=Tt,$t=Zt,Be=10,$e=40,He=800;function rt(o){var i=0,e=0,t=0,a=0;return"detail"in o&&(e=o.detail),"wheelDelta"in o&&(e=-o.wheelDelta/120),"wheelDeltaY"in o&&(e=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(i=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(i=e,e=0),t=i*Be,a=e*Be,"deltaY"in o&&(a=o.deltaY),"deltaX"in o&&(t=o.deltaX),(t||a)&&o.deltaMode&&(o.deltaMode==1?(t*=$e,a*=$e):(t*=He,a*=He)),t&&!i&&(i=t<1?-1:1),a&&!e&&(e=a<1?-1:1),{spinX:i,spinY:e,pixelX:t,pixelY:a}}rt.getEventType=function(){return Bt.firefox()?"DOMMouseScroll":$t("wheel")?"wheel":"mousewheel"};var Ht=rt,Gt=Ht;const Xt=xt(Gt);function Vt(o,i,e,t,a,n){n===void 0&&(n=0);var c=Z(o,i,n),l=c.width,p=c.height,u=Math.min(l,e),f=Math.min(p,t);return u>f*a?{width:f*a,height:f}:{width:u,height:u/a}}function Yt(o){return o.width>o.height?o.width/o.naturalWidth:o.height/o.naturalHeight}function J(o,i,e,t,a){a===void 0&&(a=0);var n=Z(i.width,i.height,a),c=n.width,l=n.height;return{x:Ge(o.x,c,e.width,t),y:Ge(o.y,l,e.height,t)}}function Ge(o,i,e,t){var a=i*t/2-e/2;return ie(o,-a,a)}function Xe(o,i){return Math.sqrt(Math.pow(o.y-i.y,2)+Math.pow(o.x-i.x,2))}function Ve(o,i){return Math.atan2(i.y-o.y,i.x-o.x)*180/Math.PI}function Kt(o,i,e,t,a,n,c){n===void 0&&(n=0),c===void 0&&(c=!0);var l=c?Jt:qt,p=Z(i.width,i.height,n),u=Z(i.naturalWidth,i.naturalHeight,n),f={x:l(100,((p.width-e.width/a)/2-o.x/a)/p.width*100),y:l(100,((p.height-e.height/a)/2-o.y/a)/p.height*100),width:l(100,e.width/p.width*100/a),height:l(100,e.height/p.height*100/a)},v=Math.round(l(u.width,f.width*u.width/100)),s=Math.round(l(u.height,f.height*u.height/100)),g=u.width>=u.height*t,b=g?{width:Math.round(s*t),height:s}:{width:v,height:Math.round(v/t)},S=y(y({},b),{x:Math.round(l(u.width-b.width,f.x*u.width/100)),y:Math.round(l(u.height-b.height,f.y*u.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:S}}function Jt(o,i){return Math.min(o,Math.max(0,i))}function qt(o,i){return i}function Qt(o,i,e,t,a,n){var c=Z(i.width,i.height,e),l=ie(t.width/c.width*(100/o.width),a,n),p={x:l*c.width/2-t.width/2-c.width*l*(o.x/100),y:l*c.height/2-t.height/2-c.height*l*(o.y/100)};return{crop:p,zoom:l}}function er(o,i,e){var t=Yt(i);return e.height>e.width?e.height/(o.height*t):e.width/(o.width*t)}function tr(o,i,e,t,a,n){e===void 0&&(e=0);var c=Z(i.naturalWidth,i.naturalHeight,e),l=ie(er(o,i,t),a,n),p=t.height>t.width?t.height/o.height:t.width/o.width,u={x:((c.width-o.width)/2-o.x)*p,y:((c.height-o.height)/2-o.y)*p};return{crop:u,zoom:l}}function Ye(o,i){return{x:(i.x+o.x)/2,y:(i.y+o.y)/2}}function rr(o){return o*Math.PI/180}function Z(o,i,e){var t=rr(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*i),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*i)}}function ie(o,i,e){return Math.min(Math.max(o,i),e)}function te(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return o.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var or=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ar=1,ir=3,nr=1,sr=function(o){Lt(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.cropperRef=m.createRef(),e.imageRef=m.createRef(),e.videoRef=m.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var t=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(t){t=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.previousCropSize=t,e.emitCropData(),e.setInitialCrop(t),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var a=Qt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),n=a.crop,c=a.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var l=tr(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),n=l.crop,c=l.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var t,a,n,c,l,p,u=e.imageRef.current||e.videoRef.current;if(u&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var f=e.containerRect.width/e.containerRect.height,v=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,s=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,g=u.offsetWidth<v||u.offsetHeight<s,b=v/s,S=void 0;if(g)switch(e.state.mediaObjectFit){default:case"contain":S=f>b?{width:e.containerRect.height*b,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/b};break;case"horizontal-cover":S={width:e.containerRect.width,height:e.containerRect.width/b};break;case"vertical-cover":S={width:e.containerRect.height*b,height:e.containerRect.height};break}else S={width:u.offsetWidth,height:u.offsetHeight};e.mediaSize=y(y({},S),{naturalWidth:v,naturalHeight:s}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var N=e.props.cropSize?e.props.cropSize:Vt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((l=e.state.cropSize)===null||l===void 0?void 0:l.height)!==N.height||((p=e.state.cropSize)===null||p===void 0?void 0:p.width)!==N.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(N),e.setState({cropSize:N},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(N),N}},e.saveContainerPosition=function(){if(e.containerRef){var t=e.containerRef.getBoundingClientRect();e.containerPosition={x:t.left,y:t.top}}},e.onMouseDown=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(i.getMousePoint(t)))},e.onMouseMove=function(t){return e.onDrag(i.getMousePoint(t))},e.onScroll=function(t){e.currentDoc&&(t.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(t){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(t))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(i.getTouchPoint(t.touches[0]))))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(i.getTouchPoint(t.touches[0]))},e.onGestureStart=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(t){if(t.preventDefault(),!e.isTouching){var a=i.getMousePoint(t),n=e.gestureZoomStart-1+t.scale;if(e.setNewZoom(n,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+t.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(t){e.cleanEvents()},e.onDragStart=function(t){var a,n,c=t.x,l=t.y;e.dragStartPosition={x:c,y:l},e.dragStartCrop=y({},e.props.crop),(n=(a=e.props).onInteractionStart)===null||n===void 0||n.call(a)},e.onDrag=function(t){var a=t.x,n=t.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||n===void 0)){var c=a-e.dragStartPosition.x,l=n-e.dragStartPosition.y,p={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+l},u=e.props.restrictPosition?J(p,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):p;e.props.onCropChange(u)}}))},e.onDragStopped=function(){var t,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(t=e.props).onInteractionEnd)===null||a===void 0||a.call(t)},e.onWheel=function(t){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var a=i.getMousePoint(t),n=Xt(t).pixelY,c=e.props.zoom-n*e.props.zoomSpeed/200;e.setNewZoom(c,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var l,p;return(p=(l=e.props).onInteractionStart)===null||p===void 0?void 0:p.call(l)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var l,p;return(p=(l=e.props).onInteractionEnd)===null||p===void 0?void 0:p.call(l)})},250)}},e.getPointOnContainer=function(t,a){var n=t.x,c=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(n-a.x),y:e.containerRect.height/2-(c-a.y)}},e.getPointOnMedia=function(t){var a=t.x,n=t.y,c=e.props,l=c.crop,p=c.zoom;return{x:(a+l.x)/p,y:(n+l.y)/p}},e.setNewZoom=function(t,a,n){var c=n===void 0?{}:n,l=c.shouldUpdatePosition,p=l===void 0?!0:l;if(!(!e.state.cropSize||!e.props.onZoomChange)){var u=ie(t,e.props.minZoom,e.props.maxZoom);if(p){var f=e.getPointOnContainer(a,e.containerPosition),v=e.getPointOnMedia(f),s={x:v.x*u-f.x,y:v.y*u-f.y},g=e.props.restrictPosition?J(s,e.mediaSize,e.state.cropSize,u,e.props.rotation):s;e.props.onCropChange(g)}e.props.onZoomChange(u)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?J(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Kt(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(t){var a=t.croppedAreaPercentages,n=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,n),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,n)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(t){var a=t.croppedAreaPercentages,n=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,n)}},e.recomputeCropPosition=function(){var t,a;if(e.state.cropSize){var n=e.props.crop;if(e.isInitialized&&(!((t=e.previousCropSize)===null||t===void 0)&&t.width)&&(!((a=e.previousCropSize)===null||a===void 0)&&a.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var l=e.state.cropSize.width/e.previousCropSize.width,p=e.state.cropSize.height/e.previousCropSize.height;n={x:e.props.crop.x*l,y:e.props.crop.y*p}}}var u=e.props.restrictPosition?J(n,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):n;e.previousCropSize=e.state.cropSize,e.props.onCropChange(u),e.emitCropData()}},e.onKeyDown=function(t){var a,n,c=e.props,l=c.crop,p=c.onCropChange,u=c.keyboardStep,f=c.zoom,v=c.rotation,s=u;if(e.state.cropSize){t.shiftKey&&(s*=.2);var g=y({},l);switch(t.key){case"ArrowUp":g.y-=s,t.preventDefault();break;case"ArrowDown":g.y+=s,t.preventDefault();break;case"ArrowLeft":g.x-=s,t.preventDefault();break;case"ArrowRight":g.x+=s,t.preventDefault();break;default:return}e.props.restrictPosition&&(g=J(g,e.mediaSize,e.state.cropSize,f,v)),t.repeat||(n=(a=e.props).onInteractionStart)===null||n===void 0||n.call(a),p(g)}},e.onKeyUp=function(t){var a,n;switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault();break;default:return}e.emitCropData(),(n=(a=e.props).onInteractionEnd)===null||n===void 0||n.call(a)},e}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=or,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},i.prototype.componentWillUnmount=function(){var e,t;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((t=this.styleRef.parentNode)===null||t===void 0||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(e){var t,a,n,c,l,p,u,f,v;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((n=e.cropSize)===null||n===void 0?void 0:n.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((l=e.crop)===null||l===void 0?void 0:l.x)!==((p=this.props.crop)===null||p===void 0?void 0:p.x)||((u=e.crop)===null||u===void 0?void 0:u.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var s=this.getObjectFit();s!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:s},this.computeSizes)},i.prototype.getAspect=function(){var e=this.props,t=e.cropSize,a=e.aspect;return t?t.width/t.height:a},i.prototype.getObjectFit=function(){var e,t,a,n;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,p=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((t=this.videoRef.current)===null||t===void 0?void 0:t.videoWidth)||0,u=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoHeight)||0,f=p/u;return f<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(e){var t=i.getTouchPoint(e.touches[0]),a=i.getTouchPoint(e.touches[1]);this.lastPinchDistance=Xe(t,a),this.lastPinchRotation=Ve(t,a),this.onDragStart(Ye(t,a))},i.prototype.onPinchMove=function(e){var t=this;if(!(!this.currentDoc||!this.currentWindow)){var a=i.getTouchPoint(e.touches[0]),n=i.getTouchPoint(e.touches[1]),c=Ye(a,n);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=Xe(a,n),p=t.props.zoom*(l/t.lastPinchDistance);t.setNewZoom(p,c,{shouldUpdatePosition:!1}),t.lastPinchDistance=l;var u=Ve(a,n),f=t.props.rotation+(u-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(f),t.lastPinchRotation=u})}},i.prototype.render=function(){var e=this,t,a=this.props,n=a.image,c=a.video,l=a.mediaProps,p=a.cropperProps,u=a.transform,f=a.crop,v=f.x,s=f.y,g=a.rotation,b=a.zoom,S=a.cropShape,N=a.showGrid,B=a.roundCropAreaPixels,z=a.style,q=z.containerStyle,F=z.cropAreaStyle,$=z.mediaStyle,H=a.classes,G=H.containerClassName,W=H.cropAreaClassName,I=H.mediaClassName,A=(t=this.state.mediaObjectFit)!==null&&t!==void 0?t:this.getObjectFit();return m.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(X){return e.containerRef=X},"data-testid":"container",style:q,className:te("reactEasyCrop_Container",G)},n?m.createElement("img",y({alt:"",className:te("reactEasyCrop_Image",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},l,{src:n,ref:this.imageRef,style:y(y({},$),{transform:u||"translate(".concat(v,"px, ").concat(s,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):c&&m.createElement("video",y({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:te("reactEasyCrop_Video",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:y(y({},$),{transform:u||"translate(".concat(v,"px, ").concat(s,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(L){return m.createElement("source",y({key:L.src},L))})),this.state.cropSize&&m.createElement("div",y({ref:this.cropperRef,style:y(y({},F),{width:B?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:B?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:te("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",N&&"reactEasyCrop_CropAreaGrid",W)},p)))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:ir,minZoom:ar,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:nr},i.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},i.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},i}(m.Component);const Pr=()=>{var ze;const{user:o}=bt(),i=yt(),{data:e,isLoading:t}=wt(),{isComplete:a,missing:n}=jt(),c=Ct(),l=Nt(),p=St(),u=Rt(),[f,v]=m.useState("basic"),[s,g]=m.useState(!1),[b,S]=m.useState(""),[N,B]=m.useState(""),[z,q]=m.useState(""),[F,$]=m.useState(""),[H,G]=m.useState(!1),[W,I]=m.useState(null),[A,L]=m.useState({x:0,y:0}),[X,Q]=m.useState(1),[we,ne]=m.useState(null),[T,se]=m.useState(null),[je,ce]=m.useState(null),{register:w,control:Ce,handleSubmit:Ne,watch:k,setValue:Se,reset:Re,formState:{errors:ot}}=Et({defaultValues:{headline:"",summary:"",experience:[],education:[],skills:[],preferences:{jobTypes:[],locations:[],remotePreference:"any"}}});m.useEffect(()=>{o&&(B(o.firstName||""),q(o.lastName||""),$((o==null?void 0:o.phone)||""))},[o]),m.useEffect(()=>{new URLSearchParams(i.search).get("onboarding")==="1"&&!a&&g(!0)},[i.search,a]),m.useEffect(()=>{e&&Re({headline:e.headline||"",summary:e.summary||"",experience:e.experience||[],education:e.education||[],skills:(e.skills||[]).map(d=>typeof d=="string"?d:d.name||"").filter(Boolean),preferences:e.preferences?{jobTypes:e.preferences.jobTypes||[],locations:e.preferences.locations||[],remotePreference:e.preferences.remotePreference||"any"}:{jobTypes:[],locations:[],remotePreference:"any"}})},[e,Re]);const{fields:Ee,append:at,remove:it}=ke({control:Ce,name:"experience"}),{fields:Pe,append:nt,remove:st}=ke({control:Ce,name:"education"}),V=k("skills")||[],De=async d=>{const h={...d,preferences:d.preferences?{...d.preferences,jobTypes:d.preferences.jobTypes}:void 0};try{je&&(await p.mutateAsync(je),T&&URL.revokeObjectURL(T),se(null),ce(null));const x=[];(N!==(o==null?void 0:o.firstName)||z!==(o==null?void 0:o.lastName)||F!==(o==null?void 0:o.phone))&&x.push(u.mutateAsync({firstName:N,lastName:z,phone:F})),x.push(c.mutateAsync(h)),await Promise.all(x),g(!1),U.success("Profile updated successfully")}catch(x){U.error((x==null?void 0:x.message)||"Failed to update profile")}},_e=()=>{b&&!V.includes(b)&&(Se("skills",[...V,b]),S(""))},ct=d=>{Se("skills",V.filter(h=>h!==d))},lt=()=>{g(!1),T&&URL.revokeObjectURL(T),se(null),ce(null)},dt=d=>{var x;const h=(x=d.target.files)==null?void 0:x[0];h&&l.mutate(h)},pt=d=>{var _;const h=(_=d.target.files)==null?void 0:_[0];if(!h)return;const x=["image/jpeg","image/png","image/webp"],P=2*1024*1024;if(!x.includes(h.type)){U.error("Please upload a JPG, PNG, or WEBP image");return}if(h.size>P){U.error("Image size must be under 2MB");return}const D=new FileReader;D.onload=()=>{I(D.result),G(!0)},D.readAsDataURL(h)},ht=(d,h)=>{ne(h)},ut=async(d,h)=>{const x=await new Promise((_,le)=>{const Y=new Image;Y.crossOrigin="anonymous",Y.onload=()=>_(Y),Y.onerror=le,Y.src=d}),P=document.createElement("canvas"),D=P.getContext("2d");if(!D)throw new Error("Canvas context not available");return P.width=h.width,P.height=h.height,D.drawImage(x,h.x,h.y,h.width,h.height,0,0,h.width,h.height),await new Promise(_=>{P.toBlob(le=>_(le),"image/jpeg",.92)})},mt=()=>{G(!1),I(null),ne(null),Q(1),L({x:0,y:0})},ft=async()=>{try{if(!W||!we)return;const d=await ut(W,we),h=new File([d],`avatar_${Date.now()}.jpg`,{type:"image/jpeg"}),x=URL.createObjectURL(d);ce(h),T&&URL.revokeObjectURL(T),se(x),G(!1),I(null),ne(null),Q(1),L({x:0,y:0}),U.success("Preview ready. Click Save Changes to upload.")}catch(d){U.error((d==null?void 0:d.message)||"Failed to crop image")}},gt=m.useMemo(()=>{var x,P,D,_;if(typeof(e==null?void 0:e.profileCompleteness)=="number"&&e.profileCompleteness>0)return e.profileCompleteness;const d=[!!(o!=null&&o.firstName),!!(o!=null&&o.lastName),!!(o!=null&&o.phone||F),!!(e!=null&&e.headline||k("headline")),!!(e!=null&&e.summary||k("summary")),(((x=e==null?void 0:e.skills)==null?void 0:x.length)||((P=k("skills"))==null?void 0:P.length)||0)>0,(((D=e==null?void 0:e.education)==null?void 0:D.length)||((_=k("education"))==null?void 0:_.length)||0)>0],h=Math.round(d.filter(Boolean).length/d.length*100);return a?100:h},[e,o,F,a,k]),vt=[{id:"basic",label:"Basic Info",icon:Le},{id:"experience",label:"Experience",icon:Te},{id:"education",label:"Education",icon:Ue},{id:"skills",label:"Skills",icon:pe}];return t?r.jsx(Me,{children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(Ae,{size:"lg"})})}):r.jsx(Me,{children:r.jsxs("div",{className:"max-w-5xl mx-auto pb-24",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 mb-8",children:[r.jsx("div",{className:"absolute inset-0 bg-black/5"}),r.jsxs("div",{className:"relative px-8 py-10",children:[!a&&r.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Dt,{className:"h-5 w-5 text-yellow-300 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium mb-1",children:"Complete your profile"}),r.jsxs("p",{className:"text-white/90 text-sm",children:["Missing: ",n.join(", "),". Complete your profile to unlock all features."]})]})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"relative w-32 h-32 rounded-2xl overflow-hidden border-4 border-white/20 shadow-xl bg-white/10 backdrop-blur-sm",children:[r.jsx("img",{src:T||(o==null?void 0:o.avatar)||"/default-avatar.png",alt:`${o==null?void 0:o.firstName} ${o==null?void 0:o.lastName}`,className:"w-full h-full object-cover"}),p.isPending&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsx(Ae,{size:"md",className:"text-white"})})]}),s&&r.jsxs(E.label,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"absolute -bottom-2 -right-2 bg-white text-primary-600 p-3 rounded-full cursor-pointer shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx(kt,{className:"h-5 w-5"}),r.jsx("input",{type:"file",accept:"image/*",onChange:pt,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 text-white",children:[s?r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[r.jsx(j,{value:N,onChange:d=>B(d.target.value),placeholder:"First Name",className:"w-48 bg-white/10 border-white/20 text-white placeholder:text-white/70 focus:bg-white/20"}),r.jsx(j,{value:z,onChange:d=>q(d.target.value),placeholder:"Last Name",className:"w-48 bg-white/10 border-white/20 text-white placeholder:text-white/70 focus:bg-white/20"})]}):r.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[o==null?void 0:o.firstName," ",o==null?void 0:o.lastName]}),r.jsx("p",{className:"text-white/90 text-lg mb-4",children:(e==null?void 0:e.headline)||r.jsx("span",{className:"text-white/60 italic",children:"Add your professional headline"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20",children:[r.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-sm font-medium",children:[gt,"% Complete"]})]}),(o==null?void 0:o.email)&&r.jsx("span",{className:"text-white/80 text-sm",children:o.email})]})]}),!s&&r.jsxs(R,{onClick:()=>g(!0),variant:"outline",className:"bg-white text-primary-600 border-white hover:bg-white/90 shadow-lg",children:[r.jsx(_t,{className:"h-5 w-5 mr-2"}),"Edit Profile"]})]})]})]}),r.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:vt.map(d=>r.jsxs("button",{onClick:()=>v(d.id),className:`
                flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-sm whitespace-nowrap transition-all
                ${f===d.id?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
              `,children:[r.jsx(d.icon,{className:"h-5 w-5"}),d.label]},d.id))}),r.jsx("form",{onSubmit:Ne(De),children:r.jsxs(de,{mode:"wait",children:[f==="basic"&&r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs(M,{className:"p-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(Le,{className:"h-6 w-6 text-primary-600"}),"Basic Information"]}),r.jsxs("div",{className:"space-y-5",children:[r.jsx(j,{label:"Professional Headline",placeholder:"e.g., Senior Software Engineer with 5+ years experience",disabled:!s,...w("headline"),error:(ze=ot.headline)==null?void 0:ze.message,className:s?"":"bg-gray-50"}),r.jsx(Fe,{label:"Professional Summary",placeholder:"Write a brief summary about yourself, your experience, and what you're looking for...",rows:5,disabled:!s,...w("summary"),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Phone Number",placeholder:"+91 9876543210",disabled:!s,value:F,onChange:d=>$(d.target.value),className:s?"":"bg-gray-50"})]})]}),r.jsxs(M,{className:"p-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(ee,{className:"h-6 w-6 text-primary-600"}),"Resume"]}),e!=null&&e.resume?r.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-primary-50 to-primary-100/50 rounded-xl border border-primary-200",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:r.jsx(ee,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:e.resume.filename}),r.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["Uploaded on ",new Date(e.resume.uploadedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsx("a",{href:e.resume.url,download:e.resume.filename||"resume",className:"text-primary-600 hover:text-primary-700 font-medium flex items-center gap-2",children:"Download"})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl",children:[r.jsx(ee,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No resume uploaded yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Upload your resume to help employers find you"})]}),s&&r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"sr-only",children:"Upload resume"}),r.jsxs("div",{className:"flex items-center gap-3 p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-primary-400 hover:bg-primary-50/50 transition-colors cursor-pointer",children:[r.jsx(ee,{className:"h-6 w-6 text-gray-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:e!=null&&e.resume?"Replace Resume":"Upload Resume"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, or DOCX (Max 10MB)"})]}),r.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:dt,className:"hidden"})]})]})})]})]},"basic"),f==="experience"&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:Ee.length===0&&!s?r.jsxs(M,{className:"text-center py-16",children:[r.jsx(Te,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No experience added yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add your work experience to showcase your career journey"}),r.jsxs(R,{onClick:()=>g(!0),children:[r.jsx(K,{className:"h-5 w-5 mr-2"}),"Add Experience"]})]}):r.jsxs(r.Fragment,{children:[Ee.map((d,h)=>r.jsx(E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},children:r.jsxs(M,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center font-bold",children:h+1}),"Experience ",h+1]}),s&&r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:()=>it(h),className:"text-red-600 border-red-200 hover:bg-red-50",children:[r.jsx(We,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsx(j,{label:"Job Title",placeholder:"e.g., Senior Software Engineer",disabled:!s,...w(`experience.${h}.title`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Company",placeholder:"e.g., Tech Company Inc.",disabled:!s,...w(`experience.${h}.company`),className:s?"":"bg-gray-50"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Type"}),r.jsxs("select",{disabled:!s,className:`block w-full px-4 py-2.5 text-gray-900 bg-white border rounded-lg border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${s?"":"bg-gray-50"}`,...w(`experience.${h}.employmentType`),children:[r.jsx("option",{value:"full_time",children:"Full-time"}),r.jsx("option",{value:"part_time",children:"Part-time"}),r.jsx("option",{value:"contract",children:"Contract"}),r.jsx("option",{value:"freelance",children:"Freelance"}),r.jsx("option",{value:"internship",children:"Internship"})]})]}),r.jsx(j,{label:"Location",placeholder:"City, Country",disabled:!s,...w(`experience.${h}.location`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Start Date",type:"month",disabled:!s,...w(`experience.${h}.startDate`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"End Date",type:"month",disabled:!s||k(`experience.${h}.current`),...w(`experience.${h}.endDate`),className:s?"":"bg-gray-50"})]}),r.jsx("div",{className:"mt-5",children:r.jsx(Fe,{label:"Description",placeholder:"Describe your responsibilities and achievements...",disabled:!s,rows:4,...w(`experience.${h}.description`),className:s?"":"bg-gray-50"})})]})},d.id)),s&&r.jsxs(R,{type:"button",variant:"outline",onClick:()=>at({title:"",company:"",employmentType:"full_time",location:"",startDate:"",endDate:"",current:!1,description:""}),className:"w-full border-2 border-dashed border-gray-300 hover:border-primary-400 hover:bg-primary-50",children:[r.jsx(K,{className:"h-5 w-5 mr-2"}),"Add Another Experience"]})]})},"experience"),f==="education"&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:Pe.length===0&&!s?r.jsxs(M,{className:"text-center py-16",children:[r.jsx(Ue,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No education added yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add your educational background to complete your profile"}),r.jsxs(R,{onClick:()=>g(!0),children:[r.jsx(K,{className:"h-5 w-5 mr-2"}),"Add Education"]})]}):r.jsxs(r.Fragment,{children:[Pe.map((d,h)=>r.jsx(E.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},children:r.jsxs(M,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center font-bold",children:h+1}),"Education ",h+1]}),s&&r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:()=>st(h),className:"text-red-600 border-red-200 hover:bg-red-50",children:[r.jsx(We,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsx(j,{label:"Institution",placeholder:"e.g., University of Technology",disabled:!s,...w(`education.${h}.institution`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Degree",placeholder:"e.g., Bachelor of Science",disabled:!s,...w(`education.${h}.degree`),className:s?"":"bg-gray-50"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Education Level"}),r.jsxs("select",{disabled:!s,className:`block w-full px-4 py-2.5 text-gray-900 bg-white border rounded-lg border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${s?"":"bg-gray-50"}`,...w(`education.${h}.level`),children:[r.jsx("option",{value:"high_school",children:"High school"}),r.jsx("option",{value:"diploma",children:"Diploma"}),r.jsx("option",{value:"bachelors",children:"Bachelors"}),r.jsx("option",{value:"masters",children:"Masters"}),r.jsx("option",{value:"phd",children:"PhD"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsx(j,{label:"Field of Study",placeholder:"e.g., Computer Science",disabled:!s,...w(`education.${h}.field`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Grade/CGPA",placeholder:"e.g., 3.8 / 4.0",disabled:!s,...w(`education.${h}.grade`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"Start Date",type:"month",disabled:!s,...w(`education.${h}.startDate`),className:s?"":"bg-gray-50"}),r.jsx(j,{label:"End Date",type:"month",disabled:!s||k(`education.${h}.current`),...w(`education.${h}.endDate`),className:s?"":"bg-gray-50"})]})]})},d.id)),s&&r.jsxs(R,{type:"button",variant:"outline",onClick:()=>nt({institution:"",degree:"",level:"bachelors",field:"",startDate:"",endDate:"",current:!1,grade:""}),className:"w-full border-2 border-dashed border-gray-300 hover:border-primary-400 hover:bg-primary-50",children:[r.jsx(K,{className:"h-5 w-5 mr-2"}),"Add Another Education"]})]})},"education"),f==="skills"&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:r.jsxs(M,{className:"p-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(pe,{className:"h-6 w-6 text-primary-600"}),"Skills & Expertise"]}),V.length===0&&!s?r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl",children:[r.jsx(pe,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No skills added yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add your skills to help employers find you"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex flex-wrap gap-3",children:V.map(d=>r.jsxs(Pt,{variant:"info",className:"flex items-center gap-2 px-4 py-2 text-base",children:[d,s&&r.jsx("button",{type:"button",onClick:()=>ct(d),className:"ml-1 hover:text-red-600 transition-colors",children:r.jsx(Oe,{className:"h-4 w-4"})})]},d))}),s&&r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(j,{placeholder:"Add a skill (e.g., JavaScript, Python, React)",value:b,onChange:d=>S(d.target.value),onKeyPress:d=>{d.key==="Enter"&&(d.preventDefault(),_e())},className:"flex-1"}),r.jsxs(R,{type:"button",onClick:_e,children:[r.jsx(K,{className:"h-5 w-5 mr-2"}),"Add"]})]})]})]})},"skills")]})}),r.jsx(de,{children:H&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:r.jsx(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-2xl mx-4",children:r.jsxs(M,{className:"overflow-hidden",children:[r.jsx("div",{className:"relative w-full h-96 bg-gray-900",children:W&&r.jsx(sr,{image:W,crop:A,zoom:X,aspect:1,onCropChange:L,onZoomChange:Q,onCropComplete:ht})}),r.jsxs("div",{className:"p-6 bg-white",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Zoom: ",X.toFixed(1),"x"]}),r.jsx("input",{type:"range",min:1,max:3,step:.1,value:X,onChange:d=>Q(Number(d.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(R,{variant:"outline",onClick:mt,className:"flex-1",children:"Cancel"}),r.jsxs(R,{onClick:ft,className:"flex-1",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),"Apply Crop"]})]})]})]})})})}),r.jsx(de,{children:s&&r.jsx(E.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-8 right-8 z-40",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-4 flex items-center gap-3",children:[r.jsxs("div",{className:"text-right pr-4 border-r border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"You have unsaved changes"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Review and save your profile"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{type:"button",variant:"outline",onClick:lt,className:"border-gray-300",children:[r.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Cancel"]}),r.jsxs(R,{type:"button",onClick:Ne(De),isLoading:c.isPending||u.isPending||p.isPending,disabled:!N||!z,children:[r.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})})})]})})};export{Pr as default};
