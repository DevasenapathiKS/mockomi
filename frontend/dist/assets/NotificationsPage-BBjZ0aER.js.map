{"version":3,"file":"NotificationsPage-BBjZ0aER.js","sources":["../../src/pages/dashboard/NotificationsPage.tsx"],"sourcesContent":["import React from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { motion } from 'framer-motion';\nimport {\n  BellIcon,\n  CheckCircleIcon,\n  BriefcaseIcon,\n  VideoCameraIcon,\n  CurrencyRupeeIcon,\n  UserIcon,\n} from '@heroicons/react/24/outline';\nimport { notificationService } from '@/services/notificationService';\nimport { useMarkAsRead, useMarkAllAsRead } from '@/hooks/useNotifications';\nimport { NotificationType } from '@/types';\nimport { DashboardLayout } from '@/components/layout';\nimport { Card, Button, Spinner, EmptyState } from '@/components/ui';\n\nconst NotificationsPage: React.FC = () => {\n  const { data: notifications, isLoading } = useQuery({\n    queryKey: ['notifications'],\n    queryFn: () => notificationService.getNotifications(),\n  });\n\n  const markAsRead = useMarkAsRead();\n  const markAllAsRead = useMarkAllAsRead();\n\n  const getNotificationIcon = (type: NotificationType) => {\n    switch (type) {\n      case NotificationType.APPLICATION_RECEIVED:\n      case NotificationType.APPLICATION_STATUS:\n        return BriefcaseIcon;\n      case NotificationType.INTERVIEW_SCHEDULED:\n      case NotificationType.INTERVIEW_REMINDER:\n      case NotificationType.INTERVIEW_COMPLETED:\n        return VideoCameraIcon;\n      case NotificationType.PAYMENT_SUCCESS:\n      case NotificationType.PAYMENT_FAILED:\n        return CurrencyRupeeIcon;\n      case NotificationType.PROFILE_UPDATE:\n        return UserIcon;\n      default:\n        return BellIcon;\n    }\n  };\n\n  const getNotificationColor = (type: NotificationType) => {\n    switch (type) {\n      case NotificationType.APPLICATION_STATUS:\n      case NotificationType.INTERVIEW_COMPLETED:\n      case NotificationType.PAYMENT_SUCCESS:\n        return 'bg-green-100 text-green-600';\n      case NotificationType.APPLICATION_RECEIVED:\n      case NotificationType.INTERVIEW_SCHEDULED:\n        return 'bg-blue-100 text-blue-600';\n      case NotificationType.INTERVIEW_REMINDER:\n        return 'bg-yellow-100 text-yellow-600';\n      case NotificationType.PAYMENT_FAILED:\n        return 'bg-red-100 text-red-600';\n      default:\n        return 'bg-gray-100 text-gray-600';\n    }\n  };\n\n  const unreadCount = notifications?.data?.filter((n: any) => !n.isRead).length || 0;\n\n  if (isLoading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex justify-center items-center h-64\">\n          <Spinner size=\"lg\" />\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Notifications</h1>\n            <p className=\"text-gray-600 mt-1\">\n              {unreadCount > 0 ? `You have ${unreadCount} unread notifications` : 'All caught up!'}\n            </p>\n          </div>\n          {unreadCount > 0 && (\n            <Button\n              variant=\"outline\"\n              onClick={() => markAllAsRead.mutate()}\n              isLoading={markAllAsRead.isPending}\n            >\n              <CheckCircleIcon className=\"h-4 w-4 mr-2\" />\n              Mark all as read\n            </Button>\n          )}\n        </div>\n\n        {notifications?.data && notifications.data.length > 0 ? (\n          <div className=\"space-y-3\">\n            {notifications.data.map((notification: any, index: number) => {\n              const Icon = getNotificationIcon(notification.type);\n              const colorClass = getNotificationColor(notification.type);\n\n              return (\n                <motion.div\n                  key={notification._id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.03 }}\n                >\n                  <div\n                    className=\"cursor-pointer\"\n                    onClick={() => {\n                      if (!notification.isRead) {\n                        markAsRead.mutate(notification._id);\n                      }\n                    }}\n                  >\n                    <Card\n                      className={`\n                        transition-all hover:shadow-md\n                        ${!notification.isRead ? 'border-l-4 border-l-primary-500 bg-primary-50/30' : ''}\n                      `}\n                    >\n                      <div className=\"flex gap-4\">\n                        <div className={`p-3 rounded-full ${colorClass}`}>\n                          <Icon className=\"h-5 w-5\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-start justify-between\">\n                            <div>\n                              <h3 className={`font-medium ${!notification.isRead ? 'text-gray-900' : 'text-gray-700'}`}>\n                                {notification.title}\n                              </h3>\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                {notification.message}\n                              </p>\n                            </div>\n                            {!notification.isRead && (\n                              <div className=\"h-2 w-2 bg-primary-500 rounded-full flex-shrink-0\"></div>\n                            )}\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-2\">\n                            {new Date(notification.createdAt).toLocaleString()}\n                          </p>\n                        </div>\n                      </div>\n                    </Card>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        ) : (\n          <EmptyState\n            icon={<BellIcon className=\"h-12 w-12\" />}\n            title=\"No notifications\"\n            description=\"You're all caught up! Check back later for updates.\"\n          />\n        )}\n      </div>\n    </DashboardLayout>\n  );\n};\n\nexport default NotificationsPage;\n"],"names":["NotificationsPage","notifications","isLoading","useQuery","notificationService","markAsRead","useMarkAsRead","markAllAsRead","useMarkAllAsRead","getNotificationIcon","type","NotificationType","BriefcaseIcon","VideoCameraIcon","CurrencyRupeeIcon","UserIcon","BellIcon","getNotificationColor","unreadCount","_a","n","jsx","DashboardLayout","Spinner","jsxs","Button","CheckCircleIcon","notification","index","Icon","colorClass","motion","Card","EmptyState"],"mappings":"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"}