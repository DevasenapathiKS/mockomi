{"version":3,"file":"jobService-ts1EWQ9-.js","sources":["../../src/services/jobService.ts"],"sourcesContent":["import api, { handleApiError } from './api';\nimport { Job, JobFilters, ApiResponse, PaginatedResponse, JobApplication, ApplicationStatus } from '@/types';\n\nexport interface CreateJobData {\n  title: string;\n  description: string;\n  requirements: string[];\n  responsibilities: string[];\n  skills: string[];\n  jobType: string;\n  experienceLevel: string;\n  location: {\n    city?: string;\n    state?: string;\n    country: string;\n    remote: boolean;\n  };\n  salary?: {\n    min?: number;\n    max?: number;\n    currency: string;\n    period: string;\n  };\n  benefits?: string[];\n  applicationDeadline?: string;\n}\n\nexport const jobService = {\n  // Get jobs with filters and pagination\n  getJobs: async (\n    filters: JobFilters = {},\n    page = 1,\n    limit = 10\n  ): Promise<PaginatedResponse<Job>> => {\n    try {\n      const params = new URLSearchParams({\n        page: String(page),\n        limit: String(limit),\n      });\n\n      if (filters.search) params.append('search', filters.search);\n      if (filters.jobType?.length) params.append('jobType', filters.jobType.join(','));\n      if (filters.experienceLevel?.length) params.append('experienceLevel', filters.experienceLevel.join(','));\n      if (filters.location) params.append('location', filters.location);\n      if (filters.remote !== undefined) params.append('remote', String(filters.remote));\n      if (filters.salaryMin) params.append('salaryMin', String(filters.salaryMin));\n      if (filters.salaryMax) params.append('salaryMax', String(filters.salaryMax));\n      if (filters.skills?.length) params.append('skills', filters.skills.join(','));\n      if (filters.postedAfter) params.append('postedAfter', filters.postedAfter);\n\n      const response = await api.get<PaginatedResponse<Job>>(`/jobs?${params.toString()}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Get single job by ID\n  getJob: async (id: string): Promise<Job> => {\n    try {\n      const response = await api.get<ApiResponse<Job>>(`/jobs/${id}`);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Create new job (employer only)\n  createJob: async (data: CreateJobData): Promise<Job> => {\n    try {\n      const response = await api.post<ApiResponse<Job>>('/jobs', data);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Update job\n  updateJob: async (id: string, data: Partial<CreateJobData>): Promise<Job> => {\n    try {\n      const response = await api.put<ApiResponse<Job>>(`/jobs/${id}`, data);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Delete job\n  deleteJob: async (id: string): Promise<void> => {\n    try {\n      await api.delete(`/jobs/${id}`);\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Publish job\n  publishJob: async (id: string): Promise<Job> => {\n    try {\n      const response = await api.patch<ApiResponse<Job>>(`/jobs/${id}/publish`);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Close job\n  closeJob: async (id: string): Promise<Job> => {\n    try {\n      const response = await api.patch<ApiResponse<Job>>(`/jobs/${id}/close`);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Get employer's jobs\n  getMyJobs: async (page = 1, limit = 10): Promise<PaginatedResponse<Job>> => {\n    try {\n      const response = await api.get<PaginatedResponse<Job>>(\n        `/jobs/employer/my-jobs?page=${page}&limit=${limit}`\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Get job applications (employer)\n  getJobApplications: async (\n    jobId: string,\n    page = 1,\n    limit = 10\n  ): Promise<PaginatedResponse<JobApplication>> => {\n    try {\n      const response = await api.get<PaginatedResponse<JobApplication>>(\n        `/jobs/${jobId}/applications?page=${page}&limit=${limit}`\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Apply to job\n  applyToJob: async (jobId: string, data: { coverLetter?: string }): Promise<JobApplication> => {\n    try {\n      const response = await api.post<ApiResponse<JobApplication>>(`/applications/job/${jobId}`, data);\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Get my applications\n  getMyApplications: async (page = 1, limit = 10): Promise<PaginatedResponse<JobApplication>> => {\n    try {\n      const response = await api.get<PaginatedResponse<JobApplication>>(\n        `/applications/my-applications?page=${page}&limit=${limit}`\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Update application status (employer)\n  updateApplicationStatus: async (\n    applicationId: string,\n    status: ApplicationStatus,\n    notes?: string\n  ): Promise<JobApplication> => {\n    try {\n      const response = await api.patch<ApiResponse<JobApplication>>(\n        `/applications/${applicationId}/status`,\n        { status, notes }\n      );\n      return response.data.data!;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Withdraw application\n  withdrawApplication: async (applicationId: string): Promise<void> => {\n    try {\n      await api.patch(`/applications/${applicationId}/withdraw`);\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Search jobs with query params\n  searchJobs: async (params: {\n    search?: string;\n    type?: string;\n    experience?: string;\n    remote?: string;\n    page?: number;\n    limit?: number;\n  }): Promise<PaginatedResponse<Job>> => {\n    try {\n      const queryParams = new URLSearchParams();\n      if (params.search) queryParams.append('search', params.search);\n      if (params.type && params.type !== 'all') queryParams.append('jobType', params.type);\n      if (params.experience && params.experience !== 'all') queryParams.append('experienceLevel', params.experience);\n      if (params.remote === 'true') queryParams.append('remote', 'true');\n      queryParams.append('page', String(params.page || 1));\n      queryParams.append('limit', String(params.limit || 10));\n\n      const response = await api.get<PaginatedResponse<Job>>(`/jobs?${queryParams.toString()}`);\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n\n  // Get employer jobs (alias for getMyJobs)\n  getEmployerJobs: async (page = 1, limit = 10): Promise<PaginatedResponse<Job>> => {\n    try {\n      const response = await api.get<PaginatedResponse<Job>>(\n        `/jobs/employer/my-jobs?page=${page}&limit=${limit}`\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error as Parameters<typeof handleApiError>[0]));\n    }\n  },\n};\n"],"names":["jobService","filters","page","limit","params","_a","_b","_c","api","error","handleApiError","id","data","jobId","applicationId","status","notes","queryParams"],"mappings":"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"}