import{j as e,c as d,K as j,h as M,O as g,z as $,l as O,f as q,y as I,g as N}from"./ui-E8jIx32d.js";import{r,u as S,e as T,L as m}from"./vendor-08mqACR8.js";import{h,i as x,u as B,U as p}from"./index-Cjn7xYNH.js";import{u as K}from"./useAuth-cQdBU6Dg.js";import{b as C,d as A,u as V}from"./data-CNpY1-rC.js";import{b as z,a as U,F as k}from"./XMarkIcon-B-SQiyPX.js";import{F as E}from"./UserIcon-ACflAg1t.js";import{F as y,a as Q}from"./UsersIcon-hudjBy-f.js";import{F as W}from"./BuildingOfficeIcon-m0Wh3_We.js";function Z({title:a,titleId:s,...o},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},o),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const P=r.forwardRef(Z);function D({title:a,titleId:s,...o},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},o),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const F=r.forwardRef(D);function H({title:a,titleId:s,...o},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},o),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const J=r.forwardRef(H);function Y({title:a,titleId:s,...o},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},o),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const R=r.forwardRef(Y);function _({title:a,titleId:s,...o},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},o),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const G=r.forwardRef(_),w={getNotifications:async(a=1,s=20)=>{try{return(await h.get(`/notifications?page=${a}&limit=${s}`)).data}catch(o){throw new Error(x(o))}},getUnreadCount:async()=>{try{return(await h.get("/notifications/unread-count")).data.data.count}catch(a){throw new Error(x(a))}},markAsRead:async a=>{try{await h.patch(`/notifications/${a}/read`)}catch(s){throw new Error(x(s))}},markAllAsRead:async()=>{try{await h.patch("/notifications/mark-all-read")}catch(a){throw new Error(x(a))}},deleteNotification:async a=>{try{await h.delete(`/notifications/${a}`)}catch(s){throw new Error(x(s))}}},X=()=>V({queryKey:["unread-count"],queryFn:()=>w.getUnreadCount(),refetchInterval:3e4}),me=()=>{const a=C();return A({mutationFn:s=>w.markAsRead(s),onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),a.invalidateQueries({queryKey:["unread-count"]})}})},he=()=>{const a=C();return A({mutationFn:()=>w.markAllAsRead(),onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),a.invalidateQueries({queryKey:["unread-count"]})}})},ee=({src:a,alt:s,name:o,size:i="md",className:u})=>{const n={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-14 h-14 text-lg",xl:"w-20 h-20 text-xl"},f=c=>{if(!c)return"?";const l=c.split(" ");return l.length>=2?`${l[0][0]}${l[1][0]}`.toUpperCase():c[0].toUpperCase()};return a?e.jsx("img",{src:a,alt:s||o||"Avatar",className:d("rounded-full object-cover",n[i],u)}):e.jsx("div",{className:d("inline-flex items-center justify-center rounded-full bg-primary-100 text-primary-700 font-medium",n[i],u),children:f(o)})},xe=({children:a})=>{const[s,o]=r.useState(!1),i=S(),u=T(),{user:n}=B(),{logout:f,isLoggingOut:c}=K(),{data:l}=X(),v=(()=>{const t=[{name:"Dashboard",href:"/dashboard",icon:G},{name:"Notifications",href:"/dashboard/notifications",icon:F,badge:l},{name:"Settings",href:"/dashboard/settings",icon:R}];switch(n==null?void 0:n.role){case p.JOB_SEEKER:return[...t.slice(0,1),{name:"My Profile",href:"/dashboard/profile",icon:E},{name:"Mock Interviews",href:"/dashboard/interviews",icon:y},{name:"Schedule Interview",href:"/dashboard/interviews/schedule",icon:y},...t.slice(1)];case p.EMPLOYER:return[...t.slice(0,1),{name:"Company Profile",href:"/dashboard/company",icon:W},{name:"My Jobs",href:"/dashboard/my-jobs",icon:k},{name:"Candidates",href:"/dashboard/candidates",icon:Q},...t.slice(1)];case p.INTERVIEWER:return[...t.slice(0,1),{name:"My Profile",href:"/dashboard/interviewer-profile",icon:E},{name:"Interview Requests",href:"/dashboard/interview-requests",icon:k},{name:"My Interviews",href:"/dashboard/interviews",icon:y},{name:"Earnings",href:"/dashboard/earnings",icon:J},...t.slice(1)];default:return t}})(),b=t=>i.pathname===t,L=()=>{f()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(j,{show:s,as:r.Fragment,children:e.jsxs(M,{as:"div",className:"relative z-50 lg:hidden",onClose:o,children:[e.jsx(g,{as:r.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),e.jsx("div",{className:"fixed inset-0 flex",children:e.jsx(g,{as:r.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs($,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[e.jsx(g,{as:r.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:e.jsx("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>o(!1),children:e.jsx(z,{className:"h-6 w-6 text-white"})})})}),e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsx(m,{to:"/",className:"text-2xl font-bold gradient-text",children:"Mockomi"})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:v.map(t=>e.jsx("li",{children:e.jsxs(m,{to:t.href,onClick:()=>o(!1),className:d(b(t.href)?"bg-primary-50 text-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[e.jsx(t.icon,{className:"h-6 w-6 shrink-0"}),t.name,t.badge?e.jsx("span",{className:"ml-auto w-5 h-5 flex items-center justify-center bg-primary-600 text-white text-xs rounded-full",children:t.badge>99?"99+":t.badge}):null]})},t.name))})})})})]})]})})})]})}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:e.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4",children:[e.jsx("div",{className:"flex h-16 shrink-0 items-center",children:e.jsx(m,{to:"/",className:"text-2xl font-bold gradient-text",children:"Mockomi"})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:v.map(t=>e.jsx("li",{children:e.jsxs(m,{to:t.href,className:d(b(t.href)?"bg-primary-50 text-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold"),children:[e.jsx(t.icon,{className:"h-6 w-6 shrink-0"}),t.name,t.badge?e.jsx("span",{className:"ml-auto w-5 h-5 flex items-center justify-center bg-primary-600 text-white text-xs rounded-full",children:t.badge>99?"99+":t.badge}):null]})},t.name))})})})})]})}),e.jsxs("div",{className:"lg:pl-72",children:[e.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>o(!0),children:e.jsx(U,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6 justify-end",children:e.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[e.jsxs("button",{type:"button",className:"relative -m-2.5 p-2.5 text-gray-400 hover:text-gray-500",onClick:()=>u("/dashboard/notifications"),children:[e.jsx(F,{className:"h-6 w-6"}),l?e.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 flex items-center justify-center bg-red-500 text-white text-xs rounded-full",children:l>9?"9+":l}):null]}),e.jsxs(O,{as:"div",className:"relative",children:[e.jsxs(q,{className:"-m-1.5 flex items-center p-1.5",children:[e.jsx(ee,{src:n==null?void 0:n.avatar,name:`${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}`,size:"sm"}),e.jsx("span",{className:"hidden lg:flex lg:items-center",children:e.jsxs("span",{className:"ml-4 text-sm font-semibold leading-6 text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]})})]}),e.jsx(j,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsxs(I,{className:"absolute right-0 z-10 mt-2.5 w-48 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:[e.jsx(N,{children:({focus:t})=>e.jsxs(m,{to:"/dashboard/settings",className:d(t?"bg-gray-50":"","flex items-center gap-x-2 px-4 py-2 text-sm text-gray-700"),children:[e.jsx(R,{className:"h-5 w-5 text-gray-400"}),"Settings"]})}),e.jsx(N,{children:({focus:t})=>e.jsxs("button",{onClick:L,disabled:c,className:d(t?"bg-gray-50":"","flex items-center gap-x-2 px-4 py-2 text-sm text-gray-700 w-full"),children:[e.jsx(P,{className:"h-5 w-5 text-gray-400"}),c?"Logging out...":"Log out"]})})]})})]})]})})]}),e.jsx("main",{className:"py-8",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a})})]})]})};export{ee as A,xe as D,J as F,he as a,F as b,w as n,me as u};
